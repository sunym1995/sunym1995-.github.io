(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{364:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"学习方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习方法"}},[t._v("#")]),t._v(" 学习方法")]),t._v(" "),a("ul",[a("li",[t._v("掌握思想")]),t._v(" "),a("li",[t._v("查资料的方式")]),t._v(" "),a("li",[t._v("问问题的方式")])]),t._v(" "),a("h1",{attrs:{id:"nodejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs"}},[t._v("#")]),t._v(" NODEJS")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("h3",{attrs:{id:"干嘛的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#干嘛的"}},[t._v("#")]),t._v(" 干嘛的")]),t._v(" "),a("p",[t._v("写后台管理程序，与之类似php  .net   java")]),t._v(" "),a("h3",{attrs:{id:"目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("数据服务，文件服务，web服务")]),t._v(" "),a("h3",{attrs:{id:"优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优势"}},[t._v("#")]),t._v(" 优势")]),t._v(" "),a("p",[t._v("性能高，方便、入门难度低、大公司都在用（BAT）")]),t._v(" "),a("h3",{attrs:{id:"劣势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#劣势"}},[t._v("#")]),t._v(" 劣势")]),t._v(" "),a("ul",[a("li",[t._v("服务器提供的相对较少")]),t._v(" "),a("li",[t._v("相对其他语言，能用的上的学习资料少")]),t._v(" "),a("li",[t._v("对程序员的要求高了")])]),t._v(" "),a("h3",{attrs:{id:"环境安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境安装"}},[t._v("#")]),t._v(" 环境安装")]),t._v(" "),a("p",[t._v("官网："),a("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("英文"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"http://nodejs.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("中文"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"http://npm.taobao.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("镜像"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("测试环境： "),a("code",[t._v("win+r->命令行(运行->cmd)->node -v")])]),t._v(" "),a("h3",{attrs:{id:"版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本"}},[t._v("#")]),t._v(" 版本")]),t._v(" "),a("p",[t._v("Vx(主).x(子).x（修正）")]),t._v(" "),a("blockquote",[a("p",[t._v("主版本:\t变化了，1/3的API发生巨变 , 使用方式变化了")]),t._v(" "),a("p",[t._v("子版本：\tAPI没有删减，使用方式没变化,内部实现发生了变化")]),t._v(" "),a("p",[t._v("修正版：什么都没变，处理一下bug")]),t._v(" "),a("p",[t._v("V6.8.0  稳定")]),t._v(" "),a("p",[t._v("V6.9.1 非稳定版   不建议下载")]),t._v(" "),a("p",[t._v("beta 测试")]),t._v(" "),a("p",[t._v("rc  、alpha测试稳定")])]),t._v(" "),a("h3",{attrs:{id:"开发工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发工具"}},[t._v("#")]),t._v(" 开发工具")]),t._v(" "),a("p",[t._v("IDE偏重，对机器要求高，功能齐全，")]),t._v(" "),a("p",[t._v("编辑器，轻便，速度快，功能后期补装插件")]),t._v(" "),a("h4",{attrs:{id:"ide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ide"}},[t._v("#")]),t._v(" IDE")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.dcloud.io/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hbuild"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://www.jetbrains.com/webstorm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebStorm"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://download.dcloud.net.cn/HBuilderX.2.5.1.20200103.full.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("HbuildX"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/palantir/eclipse-typescript",target:"_blank",rel:"noopener noreferrer"}},[t._v("Eclipse"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"编辑器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编辑器"}},[t._v("#")]),t._v(" 编辑器")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://atom.io/packages/atom-typescript",target:"_blank",rel:"noopener noreferrer"}},[t._v("Atom"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Visual Studio Code"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/Microsoft/TypeScript-Sublime-Plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sublime Text"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"node命令行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node命令行"}},[t._v("#")]),t._v(" node命令行")]),t._v(" "),a("p",[a("code",[t._v("node 回车")])]),t._v(" "),a("h3",{attrs:{id:"运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[t._v("#")]),t._v(" 运行")]),t._v(" "),a("h5",{attrs:{id:"window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window"}},[t._v("#")]),t._v(" window")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 找到目标目录"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("》地址栏输入cmd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("》node 文件名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" node 文件名\n\nb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 当前目录"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("右键"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("git bash"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" node 文件名\n")])])]),a("h5",{attrs:{id:"苹果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#苹果"}},[t._v("#")]),t._v(" 苹果")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("终端->cd 目录-> node 文件名.js | node 文件名\n")])])]),a("h5",{attrs:{id:"vscode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode"}},[t._v("#")]),t._v(" vscode")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("新建终端->cd 目录->node 文件名.js | node 文件名 \n")])])]),a("h5",{attrs:{id:"webstrom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webstrom"}},[t._v("#")]),t._v(" webstrom")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("terminal| run\n")])])]),a("h2",{attrs:{id:"开发注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发注意"}},[t._v("#")]),t._v(" 开发注意")]),t._v(" "),a("p",[a("code",[t._v("nodejs")]),t._v(" 使用的是"),a("code",[t._v("ECMA")]),t._v("语法，不可使用"),a("code",[t._v("DOM")]),t._v("，"),a("code",[t._v("BOM")]),t._v("   （console.log可以使用 ，alert不可使用）")]),t._v(" "),a("h2",{attrs:{id:"web服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web服务器"}},[t._v("#")]),t._v(" web服务器")]),t._v(" "),a("h3",{attrs:{id:"构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构成"}},[t._v("#")]),t._v(" 构成")]),t._v(" "),a("ul",[a("li",[t._v("机器：\t电脑")]),t._v(" "),a("li",[t._v("数据库：mysql | sqlserver | mongoDB | oracle\n"),a("ul",[a("li",[t._v("数据库存的是: 数字|字符")]),t._v(" "),a("li",[t._v("磁盘（硬盘) 文件本身(图，视频,PDF)   文件服务器")])])]),t._v(" "),a("li",[t._v("管理程序：nodejs（管理前后端工程文件）")])]),t._v(" "),a("h3",{attrs:{id:"前后端交互流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前后端交互流程"}},[t._v("#")]),t._v(" 前后端交互流程")]),t._v(" "),a("p",[a("strong",[t._v("大后端")])]),t._v(" "),a("p",[t._v("​\t用户 - > 地址栏(http[s]请求) -> web服务器（收到) - > nodejs处理请求(返回静态、动态)->请求数据库服务(返回结果)->nodejs(接收)->node渲染页面->浏览器（接收页面，完成最终渲染)")]),t._v(" "),a("p",[a("strong",[t._v("大前端")])]),t._v(" "),a("p",[t._v("​\t用户 - > http[s]请求 -> web服务器（收到) - > nodejs处理请求(返回静态、动态)->请求数据库服务(返回结果)->nodejs(接收)->返回给前端(渲染)->浏览器（接收页面，完成最终渲染)")]),t._v(" "),a("h3",{attrs:{id:"实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),a("p",[t._v("引入http模块")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("let http = require('http')\n")])])]),a("p",[t._v("创建web服务   返回http对象")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("let app = http.createServer((req,res)=>{\n\treq 请求体  浏览器->服务器\n\treq.url  地址   提取地址栏数据\n\treq.on('data') 提取非地址栏数据 所有的http[s]都会触发end事件\n\treq.on('end') \n\t\n\tres 响应  服务器->浏览器\n\tres.writeHead(200,{'Content-Type':'text/html;charset=utf-8'});响应头设置\n\tres.write(字符/数据<string><buffer>) 返回数据\n\tres.end() 结束响应 必须\n})\n")])])]),a("p",[t._v("监听服务器")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("app.listen(端口，[地址]，[回调])\n")])])]),a("blockquote",[a("p",[t._v("监听成功，回调一次")]),t._v(" "),a("p",[t._v("端口: 1-65535\t1024以下系统占用")]),t._v(" "),a("p",[t._v("虚拟地址localhost  真实域名xx.duapp.com")])]),t._v(" "),a("blockquote",[a("p",[t._v("更新后,需要每次服务器自动重启")]),t._v(" "),a("p",[t._v("推荐命令行工具："),a("code",[t._v("supervisor")]),t._v(" "),a("code",[t._v("nodemon")])]),t._v(" "),a("p",[t._v("安装方式: "),a("code",[t._v("npm install supervisor -g")])])]),t._v(" "),a("h2",{attrs:{id:"fs模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fs模块"}},[t._v("#")]),t._v(" fs模块")]),t._v(" "),a("p",[t._v("磁盘操作，文件操作")]),t._v(" "),a("h4",{attrs:{id:"读取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读取"}},[t._v("#")]),t._v(" 读取")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.readFile('文件路径',[编码方式],(err,data)=>{})\n")])])]),a("p",[t._v("[^err ]: err 错误 ,null没有错误\n[^data]: 数据,buffer流")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("变量 = fs.readFileSync('文件路径') \n")])])]),a("blockquote",[a("p",[t._v("处理错误")]),t._v(" "),a("p",[t._v("try{要排错的代码}catch(e){}")])]),t._v(" "),a("h4",{attrs:{id:"更名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更名"}},[t._v("#")]),t._v(" 更名")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.renameSync('改前','改后');\n")])])]),a("h4",{attrs:{id:"删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[t._v("#")]),t._v(" 删除")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.unlinkSync('文件路径')\n")])])]),a("h2",{attrs:{id:"静态资源托管"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态资源托管"}},[t._v("#")]),t._v(" 静态资源托管")]),t._v(" "),a("h3",{attrs:{id:"什么是静态资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是静态资源"}},[t._v("#")]),t._v(" 什么是静态资源")]),t._v(" "),a("p",[a("code",[t._v("xx.css")]),t._v(" "),a("code",[t._v("xx.html")]),t._v(" "),a("code",[t._v("xx.js")]),t._v(" "),a("code",[t._v("xx.图片")]),t._v(" "),a("code",[t._v("xx.json")]),t._v(" "),a("code",[t._v("xx.字体")]),t._v("\t...")]),t._v(" "),a("h3",{attrs:{id:"前端资源请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端资源请求"}},[t._v("#")]),t._v(" 前端资源请求")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v(".."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"..."')]),t._v("\n")])])]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("...."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"后端资源读取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端资源读取"}},[t._v("#")]),t._v(" 后端资源读取")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("fs.readFile(文件名,[编码方式],回调(err,data));\n")])])]),a("h2",{attrs:{id:"接口实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口实现"}},[t._v("#")]),t._v(" 接口实现")]),t._v(" "),a("h3",{attrs:{id:"前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[t._v("#")]),t._v(" 前端")]),t._v(" "),a("p",[t._v("表单：get/post/put/delete/...")]),t._v(" "),a("p",[t._v("js： ajax/jsonp")]),t._v(" "),a("h3",{attrs:{id:"后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[t._v("#")]),t._v(" 后端")]),t._v(" "),a("p",[t._v("处理方式："),a("code",[t._v("http[s]")])]),t._v(" "),a("p",[t._v("​\taddress:\t"),a("code",[t._v("req.url")]),t._v("  抓取 get请求的数据  切字符 \t| url模块")]),t._v(" "),a("p",[t._v("​\t!address:   "),a("code",[t._v("req.on('data',(chunk)=>{CHUNK==每次收到的数据buffer})")])]),t._v(" "),a("p",[t._v("​\t\t\t\t\t\t"),a("code",[t._v("req.on('end',()=>{\t接收完毕 切字符 querystring })")])]),t._v(" "),a("blockquote",[a("p",[t._v("postman 一个不用写前端，就可以发出各种请求的软件 "),a("a",{attrs:{href:"https://www.getpostman.com/downloads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"url模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url模块"}},[t._v("#")]),t._v(" url模块")]),t._v(" "),a("h3",{attrs:{id:"作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),a("p",[t._v("处理 url型的字符串")]),t._v(" "),a("h3",{attrs:{id:"用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("url.parse(str,true)  返回 对象\ttrue处理query为对象  {a:1,b:2}\n")])])]),a("blockquote",[a("p",[t._v("str -> obj  返回 对象  true\nprotocol: 'http:',\t协议\nslashes: true,\t双斜杠\nauth: null,   作者\nhost: 'localhost:8002',  主机\nport: '8002',\t端口\nhostname: 'localhost',  baidu\nhash: '#title',\t哈希（锚)\nsearch: '?username=sdfsdf&content=234234',\t查询字符串\nquery: 'username=sdfsdf&content=234234',\t数据\npathname: '/aaa',\t文件路径\npath: '/aaa?username=sdfsdf&content=234234',\t文件路径\nhref: 'http://localhost:8002/aaa?username=sdfsdf&content=234234#title'")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("url.format(obj) 返回url字符串\n")])])]),a("blockquote",[a("p",[t._v("obj -> str   返回str")])]),t._v(" "),a("h2",{attrs:{id:"querystring-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#querystring-模块"}},[t._v("#")]),t._v(" querystring 模块")]),t._v(" "),a("h3",{attrs:{id:"作用-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作用-2"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),a("p",[t._v("处理查询字符串 如："),a("code",[t._v("?key=value&key2=value2")])]),t._v(" "),a("h3",{attrs:{id:"用法-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法-2"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("querystring.parse(str) 返回对象\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("querystring.stringify(obj) 返回字符串\n")])])]),a("p",[a("strong",[t._v("作业")])]),t._v(" "),a("p",[t._v("把jquery项目的node服务器搭建起来，保证静态资源可以读取，实现部分接口")]),t._v(" "),a("h2",{attrs:{id:"模块化commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化commonjs"}},[t._v("#")]),t._v(" 模块化\tcommonJS")]),t._v(" "),a("h3",{attrs:{id:"介绍-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍-2"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("是主要为了JS在后端的表现制定，commonJS 是个规范   nodejs / webpack 是一个实现")]),t._v(" "),a("blockquote",[a("p",[t._v("ECMA 是个规范  js / as 实现了他")]),t._v(" "),a("p",[t._v("其他模块化规范：seajs.js / require.js   CMD/AMD/UMD   es5")])]),t._v(" "),a("h3",{attrs:{id:"作用-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作用-3"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),a("p",[t._v("是变量具有文件作用域，不污染全局变量")]),t._v(" "),a("h3",{attrs:{id:"系统模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统模块"}},[t._v("#")]),t._v(" 系统模块")]),t._v(" "),a("p",[a("code",[t._v("http")]),t._v(" "),a("code",[t._v("fs")]),t._v(" "),a("code",[t._v("querystring")]),t._v(" "),a("code",[t._v("url")])]),t._v(" "),a("h3",{attrs:{id:"输入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入"}},[t._v("#")]),t._v(" 输入")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模块名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模块名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xx  按需引用\n")])])]),a("blockquote",[a("p",[t._v("不指定路径：先找系统模块-> 再从项目环境找node_modules|bower_components (依赖模块)->not found")]),t._v(" "),a("p",[t._v("指定路径 : 找指定路径 -> not found")]),t._v(" "),a("p",[t._v("支持任何类型")])]),t._v(" "),a("h3",{attrs:{id:"输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输出"}},[t._v("#")]),t._v(" 输出")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("自定义属性 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 值 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" any\n")])])]),a("blockquote",[a("p",[t._v("批量输出 都是属性")]),t._v(" "),a("p",[t._v("可输出多次")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 值 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" any\t  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//module.exports = {a,b,fn}\t")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("只能输出一次")])]),t._v(" "),a("h3",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),a("p",[t._v("commonJS 是 nodejs 默认模块管理方式,不支持es6的模块化管理方式，但支持所有es6+语法")]),t._v(" "),a("h2",{attrs:{id:"npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[t._v("#")]),t._v(" NPM")]),t._v(" "),a("h3",{attrs:{id:"作用-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作用-4"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),a("p",[t._v("帮助你安装模块（包），自动安装依赖，管理包（增，删，更新，项目所有包)")]),t._v(" "),a("blockquote",[a("p",[t._v("类似：\t"),a("a",{attrs:{href:"http://bower.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("bower"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://yarn.bootcss.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("yarn"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"安装到全局环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装到全局环境"}},[t._v("#")]),t._v(" 安装到全局环境")]),t._v(" "),a("ul",[a("li",[t._v("安装到电脑系统环境下")]),t._v(" "),a("li",[t._v("使用时在任何位置都可以使用")]),t._v(" "),a("li",[t._v("被全局安装的通常是：命令行工具，脚手架")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i 包名 -g\t\t\t\t\t    安装\nnpm uninstall 包名 -g\t \t\t\t卸载\n")])])]),a("h3",{attrs:{id:"安装到项目环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装到项目环境"}},[t._v("#")]),t._v(" 安装到项目环境")]),t._v(" "),a("p",[t._v("只能在当前目录使用，需要使用npm代运行")]),t._v(" "),a("h4",{attrs:{id:"初始化项目环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目环境"}},[t._v("#")]),t._v(" 初始化项目环境")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm init\n")])])]),a("blockquote",[a("p",[t._v("初始化npm管理文件package.json")]),t._v(" "),a("p",[t._v("package-lock.json 文件用来固化依赖")])]),t._v(" "),a("div",{staticClass:"language-j extra-class"},[a("pre",{pre:!0,attrs:{class:"language-j"}},[a("code",[a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("name"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("npm"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("项目名称\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("version"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("版本\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("description"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("test and play"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("描述\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("main"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("index"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),t._v("js"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("入口文件\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("dependencies"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("项目依赖  上线也要用\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("jquery"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.2")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("devDependencies"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("开发依赖 上线就不用\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("animat"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("e.")]),t._v("css"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.5")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("scripts"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("{")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("命令行\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("test"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("命令行"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("repository"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("{")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("仓库信息\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("type"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("git"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("url"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("git"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("+")]),t._v("http"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("s:")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("githu"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("b.")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("alexwa9"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),t._v("githu"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("b.")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2017")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),t._v("git"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("keywords"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("[")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("关键词\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("test"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xx'")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'oo'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("author"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("wan9"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("license"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("ISC"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("认证\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("bugs"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("url"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("http"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("s:")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("githu"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("b.")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("alexwa9"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),t._v("githu"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("b.")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2017")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("issues"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("问题提交\n  "),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("homepage"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v('":')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),t._v("http"),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("s:")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("githu"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("b.")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("alexwa9"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v(".")]),t._v("githu"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("b.")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2017")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),a("span",{pre:!0,attrs:{class:"token verb keyword"}},[t._v("#")]),t._v("readme"),a("span",{pre:!0,attrs:{class:"token conjunction variable"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("/")]),t._v("首页\n"),a("span",{pre:!0,attrs:{class:"token adverb builtin"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"项目依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目依赖"}},[t._v("#")]),t._v(" 项目依赖")]),t._v(" "),a("p",[t._v("只能在当前项目下使用，上线了，也需要这个依赖  "),a("code",[t._v("--save")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//安装\nnpm i 包名 --save\nnpm install 包名 -S\nnpm install 包名@x.x.x -S\n\n//卸载\nnpm uninstall 包名 --save\nnpm uninstall 包名 -S\n")])])]),a("h4",{attrs:{id:"开发依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发依赖"}},[t._v("#")]),t._v(" 开发依赖")]),t._v(" "),a("p",[t._v("只能在当前项目下使用\t，上线了，依赖不需要了 "),a("code",[t._v("--save-dev")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install 包名 --save-dev\nnpm install 包名 -D\n")])])]),a("h3",{attrs:{id:"查看包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看包"}},[t._v("#")]),t._v(" 查看包")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm list  列出所有已装包\nnpm outdated 版本对比(安装过得包)\nnpm info 包名 查看当前包概要信息 \nnpm view 包名 versions 查看包历史版本列表\n")])])]),a("h3",{attrs:{id:"安装所有依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装所有依赖"}},[t._v("#")]),t._v(" 安装所有依赖")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install \n")])])]),a("blockquote",[a("p",[t._v("安装package.json里面指定的所有包")])]),t._v(" "),a("h3",{attrs:{id:"版本约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本约束"}},[t._v("#")]),t._v(" 版本约束")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("^x.x.x   约束主版本，后续找最新  \n~x.x.x   保持前两位不变，后续找最新\n*\t\t 装最新(?)\nx.x.x \t 定死了一个版本\n")])])]),a("h3",{attrs:{id:"选择源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择源"}},[t._v("#")]),t._v(" 选择源")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install nrm -g     安装选择源的工具包\nnrm ls 查看所有源\nnrm test 测试所有源\nnrm use 切换源名\n")])])]),a("h3",{attrs:{id:"安装卡顿时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装卡顿时"}},[t._v("#")]),t._v(" 安装卡顿时")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ctrl + c -> npm uninstall 包名  -> npm cache 清除缓存 -> 换4g网络 -> npm install 包名\n")])])]),a("h3",{attrs:{id:"发布包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布包"}},[t._v("#")]),t._v(" 发布包")]),t._v(" "),a("ul",[a("li",[t._v("官网 "),a("a",{attrs:{href:""}},[t._v("注册")])]),t._v(" "),a("li",[t._v("登录 (发布包的时候，必须要登录到npm自己的源上面进行发布)\n"),a("ul",[a("li",[a("code",[t._v("npm login")]),t._v(" 登录")]),t._v(" "),a("li",[t._v("输入 user/password/email")])])]),t._v(" "),a("li",[t._v("创建包\n"),a("ul",[a("li",[a("code",[t._v("npm init -y")])]),t._v(" "),a("li",[t._v("创建入口index.js")]),t._v(" "),a("li",[t._v("编写，输出")])])]),t._v(" "),a("li",[t._v("发布\n"),a("ul",[a("li",[a("code",[t._v("npm publish")])])])]),t._v(" "),a("li",[t._v("迭代\n"),a("ul",[a("li",[t._v("修改版本号")]),t._v(" "),a("li",[a("code",[t._v("npm publish")])])])]),t._v(" "),a("li",[t._v("删除\n"),a("ul",[a("li",[a("code",[t._v("npm unpublish")])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("包的发布、迭代、删除，需要在包目录下进行")]),t._v(" "),a("p",[t._v("删除包，有时需要发送邮件")])]),t._v(" "),a("h3",{attrs:{id:"扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("peerDependencies 发布依赖\noptionalDependencies 可选依赖\nbundledDependencies 捆绑依赖\ncontributors 为你的包装做出贡献的人。贡献者是一群人。\nfiles 项目中包含的文件。您可以指定单个文件，整个目录或使用通配符来包含符合特定条件的文件\n")])])]),a("h2",{attrs:{id:"yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[t._v("#")]),t._v(" YARN")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://classic.yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://classic.yarnpkg.com/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[t._v("去官网安装"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("注意：为省事，不要用npm i yarn -g，去安装yarn，而是去下载压缩包，保证注册表和环境变量的硬写入，后期通过yarn安装全局包时方便")])]),t._v(" "),a("h3",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[a("strong",[t._v("初始化一个新项目")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn init\n")])])]),a("p",[a("strong",[t._v("添加依赖包")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn add [package]\nyarn add [package]@[version]\nyarn add [package]@[tag]\n")])])]),a("p",[a("strong",[t._v("将依赖项添加到不同依赖项类别中")])]),t._v(" "),a("p",[t._v("分别添加到 "),a("code",[t._v("dependencies")]),t._v(","),a("code",[t._v("devDependencies")]),t._v("、"),a("code",[t._v("peerDependencies")]),t._v(" 和 "),a("code",[t._v("optionalDependencies")]),t._v(" 类别中：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn add [package] --save   | -S \nyarn add [package] --dev    | -D \nyarn add [package] --peer\nyarn add [package] --optional\n")])])]),a("p",[a("strong",[t._v("升级依赖包")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn upgrade [package]\nyarn upgrade [package]@[version]\nyarn upgrade [package]@[tag]\n")])])]),a("p",[a("strong",[t._v("移除依赖包")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn remove [package]\n")])])]),a("p",[a("strong",[t._v("安装项目的全部依赖")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn\n")])])]),a("p",[t._v("或者")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn install\n")])])]),a("p",[a("strong",[t._v("安装到全局")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("yarn global add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//global的位置测试不能变")]),t._v("\nyarn global remove "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h2",{attrs:{id:"bower"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bower"}},[t._v("#")]),t._v(" BOWER")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://bower.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"安装bower"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装bower"}},[t._v("#")]),t._v(" 安装bower")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g bower\n")])])]),a("h3",{attrs:{id:"安装包到全局环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装包到全局环境"}},[t._v("#")]),t._v(" 安装包到全局环境")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("bower i 包名 -g\t\t     安装\nbower uninstall 包名 -g\t 卸载\n")])])]),a("h3",{attrs:{id:"安装包到项目环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装包到项目环境"}},[t._v("#")]),t._v(" 安装包到项目环境")]),t._v(" "),a("h4",{attrs:{id:"初始化项目环境-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目环境-2"}},[t._v("#")]),t._v(" 初始化项目环境")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("bower init\n")])])]),a("blockquote",[a("p",[t._v("bower.json  第三方包管理配置文件")])]),t._v(" "),a("h4",{attrs:{id:"项目依赖-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目依赖-2"}},[t._v("#")]),t._v(" 项目依赖")]),t._v(" "),a("p",[t._v("只能在当前项目下使用，上线了，也需要这个依赖  "),a("code",[t._v("--save")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//安装\n同npm\nbower install 包名#x.x.x -S 指定版本使用#\n\n//卸载\n同npm\n")])])]),a("h4",{attrs:{id:"开发依赖-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发依赖-2"}},[t._v("#")]),t._v(" 开发依赖")]),t._v(" "),a("p",[t._v("只能在当前项目下使用\t，上线了，依赖不需要了 "),a("code",[t._v("--save-dev")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("同npm\n")])])]),a("h2",{attrs:{id:"express"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express"}},[t._v("#")]),t._v(" EXPRESS")]),t._v(" "),a("p",[t._v("nodejs库，不用基础做起，工作简单化，点击进入"),a("a",{attrs:{href:"http://www.expressjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1),t._v("，类似的还有 "),a("a",{attrs:{href:"https://koa.bootcss.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("koa"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),a("p",[t._v("二次封装，非侵入式，增强形")]),t._v(" "),a("h3",{attrs:{id:"搭建web服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建web服务"}},[t._v("#")]),t._v(" 搭建web服务")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" express"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("端口"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("地址"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("回调"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"静态资源托管-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态资源托管-2"}},[t._v("#")]),t._v(" 静态资源托管")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./www'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"接口响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口响应"}},[t._v("#")]),t._v(" 接口响应")]),t._v(" "),a("p",[t._v("支持各种请求姿势：get、post、put、delete...")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("请求姿势"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("接口名称"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("处理函数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),a("h4",{attrs:{id:"req请求体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#req请求体"}},[t._v("#")]),t._v(" req\t请求体")]),t._v(" "),a("p",[t._v("request 对象表示 HTTP 请求，包含了请求查询字符串，参数，内容，HTTP 头部等属性")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取地址栏的数据")]),t._v("\nreq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取非地址栏的数据  依赖中间件 ")]),t._v("\n\nreq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//获取动态接口名   app.get("/api/:id")')]),t._v("\nreq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("method "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取前端提交方式")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("req.body依赖中间件")]),t._v(" "),a("p",[t._v("中间件使用:body-parser")]),t._v(" "),a("ol",[a("li",[t._v("npm install body-parser")]),t._v(" "),a("li",[t._v("let bodyParser = require('body-parser')")]),t._v(" "),a("li",[t._v("app.use(bodyParser ())")])])]),t._v(" "),a("h4",{attrs:{id:"res响应体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#res响应体"}},[t._v("#")]),t._v(" res\t响应体")]),t._v(" "),a("p",[t._v("response 对象表示 HTTP 响应，即在接收到请求时向客户端发送的 HTTP 响应数据")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("any"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//对等 res.write + res.end")]),t._v("\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("buffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回json")]),t._v("\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sorry can\'t find that!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回一个404")]),t._v("\n\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("响应数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调用请求时的回调函数并传递响应数据")]),t._v("\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public/error.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//渲染纯 HTML 文件")]),t._v("\n")])])]),a("h4",{attrs:{id:"jsonp响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsonp响应"}},[t._v("#")]),t._v(" jsonp响应")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsonp callback name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认callback")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/jsonp接口'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t\t\n")])])]),a("h4",{attrs:{id:"处理一部分接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理一部分接口"}},[t._v("#")]),t._v(" 处理一部分接口")]),t._v(" "),a("p",[t._v("共有业务逻辑,在一起给处理了")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin/*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("all匹配全路径 处理所有HTTP")]),t._v(" "),a("p",[t._v("需要next 延续后续")])]),t._v(" "),a("h3",{attrs:{id:"use"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use"}},[t._v("#")]),t._v(" use")]),t._v(" "),a("p",[t._v("安装中间件、路由、接受一个函数，")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("server.use([地址],中间件|路由|函数体)\n")])])]),a("h3",{attrs:{id:"中间件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中间件"}},[t._v("#")]),t._v(" 中间件")]),t._v(" "),a("p",[t._v("middleware， 处理自定义业务，只处理请求到结束响应的中间部分")]),t._v(" "),a("p",[a("strong",[t._v("举例")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm i body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("parser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" bodyParser"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body-parser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入中间件")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bodyParser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装中间件")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("body-parser 使用方式，实时查询 "),a("a",{attrs:{href:"http://npmjs.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm"),a("OutboundLink")],1),t._v("，可获得最新")])]),t._v(" "),a("h3",{attrs:{id:"后端跳转"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端跳转"}},[t._v("#")]),t._v(" 后端跳转")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      指向一个接口\n")])])]),a("h3",{attrs:{id:"扩展-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展-2"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),a("h4",{attrs:{id:"req"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#req"}},[t._v("#")]),t._v(" req")]),t._v(" "),a("ul",[a("li",[t._v("req.app：当callback为外部文件时，用req.app访问express的实例")]),t._v(" "),a("li",[t._v("req.baseUrl：获取路由当前安装的URL路径")]),t._v(" "),a("li",[t._v("req.cookies：Cookies")]),t._v(" "),a("li",[t._v("req.fresh / req.stale：判断请求是否还「新鲜」")]),t._v(" "),a("li",[t._v("req.hostname / req.ip：获取主机名和IP地址")]),t._v(" "),a("li",[t._v("req.originalUrl：获取原始请求URL")]),t._v(" "),a("li",[t._v("req.path：获取请求路径")]),t._v(" "),a("li",[t._v("req.protocol：获取协议类型")]),t._v(" "),a("li",[t._v("req.route：获取当前匹配的路由")]),t._v(" "),a("li",[t._v("req.subdomains：获取子域名")]),t._v(" "),a("li",[t._v("req.accepts()：检查可接受的请求的文档类型")]),t._v(" "),a("li",[t._v("req.acceptsCharsets / req.acceptsEncodings / req.acceptsLanguages：返回指定字符集的第一个可接受字符编码")]),t._v(" "),a("li",[t._v("req.get()：获取指定的HTTP请求头")]),t._v(" "),a("li",[t._v("req.is()：判断请求头Content-Type的MIME类型")])]),t._v(" "),a("h4",{attrs:{id:"res"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#res"}},[t._v("#")]),t._v(" res")]),t._v(" "),a("ul",[a("li",[t._v("res.app：同req.app一样")]),t._v(" "),a("li",[t._v("res.append()：追加指定HTTP头")]),t._v(" "),a("li",[t._v("res.set()在res.append()后将重置之前设置的头")]),t._v(" "),a("li",[t._v("res.cookie(name，value [，option])：设置Cookie")]),t._v(" "),a("li",[t._v("opition: domain / expires / httpOnly / maxAge / path / secure / signed")]),t._v(" "),a("li",[t._v("res.clearCookie()：清除Cookie")]),t._v(" "),a("li",[t._v("res.download()：传送指定路径的文件")]),t._v(" "),a("li",[t._v("res.get()：返回指定的HTTP头")]),t._v(" "),a("li",[t._v("res.location()：只设置响应的Location HTTP头，不设置状态码或者close response")]),t._v(" "),a("li",[t._v("res.render(view,[locals],callback)：渲染一个view，同时向callback传递渲染后的字符串，如果在渲染过程中有错误发生next(err)将会被自动调用。callback将会被传入一个可能发生的错误以及渲染后的页面，这样就不会自动输出了。")]),t._v(" "),a("li",[t._v("res.sendFile(path [，options] [，fn])：传送指定路径的文件 -会自动根据文件extension设定Content-Type")]),t._v(" "),a("li",[t._v("res.set()：设置HTTP头，传入object可以一次设置多个头")]),t._v(" "),a("li",[t._v("res.status()：设置HTTP状态码")]),t._v(" "),a("li",[t._v("res.type()：设置Content-Type的MIME类型")])]),t._v(" "),a("p",[a("strong",[t._v("作业")])]),t._v(" "),a("p",[t._v("把jquery项目利用express搭建的node服务器来管理，保证资源托管到位，部分接口实现")]),t._v(" "),a("h2",{attrs:{id:"身份验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#身份验证"}},[t._v("#")]),t._v(" 身份验证")]),t._v(" "),a("p",[t._v("HTTP 是一种没有状态的协议，也就是它并不知道是谁访问。客户端用户名密码通过了身份验证，不过下回这个客户端再发送请求时候，还得再验证")]),t._v(" "),a("h3",{attrs:{id:"session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[t._v("#")]),t._v(" session")]),t._v(" "),a("h4",{attrs:{id:"思想"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#思想"}},[t._v("#")]),t._v(" 思想")]),t._v(" "),a("p",[t._v("​        1、客户端用户名跟密码请求登录\n​\t\t2、服务端收到请求，去库验证用户名与密码\n​\t\t3、验证成功后，服务端种一个cookie或发一个字符到客户端，同时服务器保留一份session\n​\t\t4、客户端收到 响应 以后可以把收到的字符存到cookie\n​\t\t5、客户端每次向服务端请求资源的cookie会自动携带\n​\t\t6、服务端收到请求，然后去验证cookie和session，如果验证成功，就向客户端返回请求的库数据")]),t._v(" "),a("blockquote",[a("p",[t._v("Session存储位置: 服务器内存，磁盘，或者数据库里")]),t._v(" "),a("p",[t._v("Session存储内容: id,存储时间，用户名等说明一下登录的用户是谁")]),t._v(" "),a("p",[t._v("客户端携带 ： cookie自动带，localStorage手动带")])]),t._v(" "),a("h4",{attrs:{id:"如何保存信息给浏览器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何保存信息给浏览器"}},[t._v("#")]),t._v(" 如何保存信息给浏览器")]),t._v(" "),a("p",[a("strong",[t._v("前端种：")])]),t._v(" "),a("p",[t._v("cookie/localstorage")]),t._v(" "),a("p",[a("strong",[t._v("后端种:")])]),t._v(" "),a("p",[t._v("服务器给浏览器种cookie:  \tcookie-parser")]),t._v(" "),a("p",[t._v("服务器给浏览器种cookie的同时在服务器上生成seesion:  cookie-session")]),t._v(" "),a("h4",{attrs:{id:"cookie-session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session"}},[t._v("#")]),t._v(" cookie-session")]),t._v(" "),a("p",[a("strong",[t._v("安装引入")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" cookieSession "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cookie-session'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("配置中间件")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cookieSession")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'保存到服务器的session的名字'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("必传参数，代表加密层级"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  maxAge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//保留cookie的时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("种cookie,备份session")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value\n")])])]),a("p",[a("strong",[t._v("读cookie对比session")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key  返回"),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),a("p",[a("strong",[t._v("删除cookie、session")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key \nreq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\n")])])]),a("h3",{attrs:{id:"token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token"}},[t._v("#")]),t._v(" token")]),t._v(" "),a("h4",{attrs:{id:"思想-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#思想-2"}},[t._v("#")]),t._v(" 思想")]),t._v(" "),a("p",[t._v("在服务端不需要存储用户的登录记录，全部发给客户端有客户端自己存(cookie,local)")]),t._v(" "),a("p",[t._v("​        1、客户端使用用户名跟密码请求登录\n​\t\t2、服务端收到请求，去验证用户名与密码\n​\t\t3、验证成功后，服务端会签发一个 Token（加了密的字符串），再把这个 Token 发送给客户端\n​\t\t4、客户端收到 Token 以后可以把它存储起来，比如放在 Cookie 里或者 Local Storage 里\n​\t\t5、客户端每次向服务端请求资源的时候需要带着服务端签发的 Token\n​\t\t6、服务端收到请求，然后去验证客户端请求里面带着的 Token，如果验证成功，就向客户端返回请求的数据")]),t._v(" "),a("h4",{attrs:{id:"实现-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现-2"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),a("p",[a("strong",[t._v("jsonwebtoken")]),t._v("的安装引入")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" jwt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsonwebtoken'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("生成签名")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jwt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" secretOrPrivateKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("[^payload]: json 还有username,userid\n[^secretOrPrivateKey]: 加密规则，字符串，或者私钥path模块\n[^options]: 可选配置项\n[^callback]: 成功回调, 可选 返回制作后的token,也可同步返回")]),t._v(" "),a("p",[a("strong",[t._v("校验token")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("jwt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("verify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" secretOrPublicKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("[^callback：]: 回调 err 错误信息 decode 成功后的信息")]),t._v(" "),a("p",[t._v("[^options]: expiresIn 过期时间")]),t._v(" "),a("p",[a("strong",[t._v("token删除")])]),t._v(" "),a("p",[t._v("有客户端，负责删除")]),t._v(" "),a("h3",{attrs:{id:"session-vs-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-vs-token"}},[t._v("#")]),t._v(" session vs token")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("session")]),t._v(" "),a("th",[t._v("token")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("服务端保存用户信息")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("×")])]),t._v(" "),a("tr",[a("td",[t._v("避免CSRF攻击")]),t._v(" "),a("td",[t._v("×")]),t._v(" "),a("td",[t._v("√")])]),t._v(" "),a("tr",[a("td",[t._v("安全性")]),t._v(" "),a("td",[t._v("一般")]),t._v(" "),a("td",[t._v("高")])]),t._v(" "),a("tr",[a("td",[t._v("多服务器粘性问题")]),t._v(" "),a("td",[t._v("存在")]),t._v(" "),a("td",[t._v("不存在")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("多服务器粘性问题")]),t._v(" "),a("p",[t._v("当在应用中进行 session的读，写或者删除操作时，会有一个文件操作发生在操作系统的temp 文件夹下，至少在第一次时。假设有多台服务器并且 session 在第一台服务上创建。当你再次发送请求并且这个请求落在另一台服务器上，session 信息并不存在并且会获得一个“未认证”的响应。我知道，你可以通过一个粘性 session 解决这个问题。然而，在基于 token 的认证中，这个问题很自然就被解决了。没有粘性 session 的问题，因为在每个发送到服务器的请求中这个请求的 token 都会被拦截")])]),t._v(" "),a("h2",{attrs:{id:"文件上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件上传"}},[t._v("#")]),t._v(" 文件上传")]),t._v(" "),a("p",[a("strong",[t._v("思想")])]),t._v(" "),a("p",[t._v("前端表单->后端接收到文件本身->保存到服务器上->给数据库记录文件一些信息->库返回给nodejs相关信息->nodejs返回给前端")]),t._v(" "),a("blockquote",[a("p",[t._v('前端: <input type=file enctype="multipart/form-data" name="fieldname"')])]),t._v(" "),a("p",[a("strong",[t._v("实现")])]),t._v(" "),a("p",[t._v("multer->文件名会随机->fs模块改名->path系统模块解析磁盘路径")]),t._v(" "),a("blockquote",[a("p",[t._v("后端：multer 接受 form-data编码数据")])]),t._v(" "),a("h3",{attrs:{id:"path系统模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path系统模块"}},[t._v("#")]),t._v(" path系统模块")]),t._v(" "),a("p",[t._v("操作系统磁盘路径")]),t._v(" "),a("p",[a("strong",[t._v("编码")])]),t._v(" "),a("p",[t._v("windows： "),a("code",[t._v("c:\\\\user\\\\admin\\\\a.jpg")])]),t._v(" "),a("p",[t._v("mac:\t "),a("code",[t._v("~/desktop/1901")])]),t._v(" "),a("p",[a("strong",[t._v("UI呈现")]),t._v("（控制台的打印）")]),t._v(" "),a("p",[t._v("windows: \t"),a("code",[t._v("c:\\user\\admin")]),t._v("\nmac: \t"),a("code",[t._v("~/desktop/1901")])]),t._v(" "),a("p",[a("strong",[t._v("API")])]),t._v(" "),a("p",[t._v("磁盘路径解析 "),a("strong",[t._v("parse")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c:\\\\wamp\\\\xx.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// string -> object")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c:\\\\'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 盘符\n   dir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c:\\\\wamp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 目录\n   base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xx.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  文件名\n   ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 扩展名\n   name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xx'")]),t._v(" \t文件，不含扩展名    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("片段合并"),a("strong",[t._v("join")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'磁盘路径1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'磁盘路径2'")]),t._v("，"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'磁盘路径n'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("__dirname 魔术变量  返回当前文件所在的磁盘路径")])]),t._v(" "),a("p",[t._v("片段合并 "),a("strong",[t._v("resolve")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'磁盘路径1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'磁盘路径n'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("合并磁盘片段,右到左找根，左到右拼接，没有找到根，以当前文件路径为根")])]),t._v(" "),a("h3",{attrs:{id:"multer中间件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multer中间件"}},[t._v("#")]),t._v(" multer中间件")]),t._v(" "),a("p",[t._v("multer 接受 form-data编码数据,所有要求前端携带时注意一下，如："),a("code",[t._v('<input type=file enctype="multipart/form-data" name="fieldname">')]),t._v(",")]),t._v(" "),a("p",[a("strong",[t._v("使用")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1 引入")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" multer  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'multer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2 实例化  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" objMulter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("multer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" dest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./upload'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//dest: 指定 保存位置（存到服务器)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装中间件， ")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("objMulter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//允许上传什么类型文件,any 代表任何类型 ")]),t._v("\n")])])]),a("p",[t._v("中间件扩展了req请求体 "),a("code",[t._v("req.files")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/reg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("​        fieldname: 表单name名\n​\t\toriginalname: 上传的文件名\n​\t\tencoding： 编码方式\n​\t\tmimetype: 文件类型\n​\t\tbuffer: 文件本身\n​\t\tsize：尺寸\n​\t\tdestination: 保存路径\n​\t\tfilename： 保存后的文件名  不含后缀\n​\t\tpath：\t保存磁盘路径+保存后的文件名 不含后缀")])]),t._v(" "),a("h2",{attrs:{id:"后端渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端渲染"}},[t._v("#")]),t._v(" 后端渲染")]),t._v(" "),a("p",[t._v("通常根据后端返回的json数据，然后来生成html被称为前端渲染，而后端渲染是后端把json与html结合渲染好后返回到浏览器，没前端什么事了")]),t._v(" "),a("h3",{attrs:{id:"模板引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板引擎"}},[t._v("#")]),t._v(" 模板引擎")]),t._v(" "),a("p",[t._v("无论前后谁来渲染页面，都会用到模板引擎，前端渲染页面实际上是"),a("strong",[t._v("操作dom")]),t._v("，后端渲染页面是"),a("strong",[t._v("把数据和html字符拼接")]),t._v("后丢给浏览器")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("引擎")]),t._v(" "),a("th",[t._v("前端")]),t._v(" "),a("th",[t._v("后端")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("angularJs")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("×")])]),t._v(" "),a("tr",[a("td",[t._v("vue/mustach")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("√")])]),t._v(" "),a("tr",[a("td",[t._v("react")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("√")])]),t._v(" "),a("tr",[a("td",[t._v("angularTs/mustach")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("√")])]),t._v(" "),a("tr",[a("td",[t._v("jade/pug")]),t._v(" "),a("td",[t._v("×")]),t._v(" "),a("td",[t._v("√")])]),t._v(" "),a("tr",[a("td",[t._v("ejs")]),t._v(" "),a("td",[t._v("×")]),t._v(" "),a("td",[t._v("√")])]),t._v(" "),a("tr",[a("td",[t._v("jquery + art-template")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("×")])]),t._v(" "),a("tr",[a("td",[t._v("handlerbars")]),t._v(" "),a("td",[t._v("√")]),t._v(" "),a("td",[t._v("×")])])])]),t._v(" "),a("h3",{attrs:{id:"jade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jade"}},[t._v("#")]),t._v(" jade")]),t._v(" "),a("p",[a("strong",[t._v("原理")]),t._v("：fs抓取前端静态页面 + jade + 数据  \t->\t返回send(data)\t -> \t浏览器")]),t._v(" "),a("p",[a("strong",[t._v("特点")]),t._v("：侵入式，强依赖")]),t._v(" "),a("p",[a("strong",[t._v("使用")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" jade "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jade'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" html "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jade模板文件'")]),t._v("，"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pretty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回字符")]),t._v("\n")])])]),a("p",[a("strong",[t._v("jade模板文件语法")])]),t._v(" "),a("p",[t._v("父子要缩进\n属性：  标签(key=value,key2=value)\n内容:\t标签 内容")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.nooong.com/docs/jade_chinese.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("其他扩展"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"ejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ejs"}},[t._v("#")]),t._v(" ejs")]),t._v(" "),a("p",[a("strong",[t._v("原理")]),t._v("：fs抓取前端静态页面 + ejs + 数据  \t->\t返回send(data)\t -> \t浏览器")]),t._v(" "),a("p",[a("strong",[t._v("特点")]),t._v("：非侵入式，温和，弱依赖")]),t._v(" "),a("p",[a("strong",[t._v("使用")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ejs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nejs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ejs模板文件'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("要合并到html数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("回调")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("err：错误，null代表没有错误")]),t._v(" "),a("p",[t._v("data:\t渲染后的字符|流")]),t._v(" "),a("p",[t._v("ejs模板 ：\t后缀名为ejs的html文件")])]),t._v(" "),a("p",[a("strong",[t._v("ejs模板文件语法")])]),t._v(" "),a("ul",[a("li",[t._v("ejs 结构就是html")]),t._v(" "),a("li",[t._v("输出:\t<%= 数据名|属性名|变量名 + 表达式 %>")]),t._v(" "),a("li",[t._v("语句：\t<% 语句 %>  需要被<%  %>  包裹")]),t._v(" "),a("li",[t._v("非转义输出:\t<%- 数据名|变量名  + 表达式 %>")]),t._v(" "),a("li",[t._v("载入公共：<%- include('./hd.ejs',{数据}) %>")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/ejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("其他扩展"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),a("p",[t._v("告诉你去哪，对于前端，主要是导向告诉浏览器应该去哪，对于后端，可以理解为一个子服务，一个路由就是一个小的服务(server/app)，处理一个接口")]),t._v(" "),a("p",[a("strong",[t._v("配置和使用")])]),t._v(" "),a("p",[t._v("/routes/xx.js")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 创建路由")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2 路由处理响应")]),t._v("\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("响应"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("地址"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 处理函数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//3. 导出路由")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("/app.js主服务")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装路由")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'地址'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),a("p",[t._v("/routes/xx.js")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//子路由里安装路由 嵌套")]),t._v("\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'地址'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("子router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要next 延续")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//截获当前路由下的部分公共业务")]),t._v("\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("当前router路由下的验证工作"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需要next 延续")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("主路由的地址对应子路由的根")]),t._v(" "),a("p",[t._v("如：app.js :"),a("code",[t._v("/api/a~~ a.js:")]),t._v("/`")]),t._v(" "),a("p",[t._v('app.use("/api/a",require("./routes/a.js"))')]),t._v(" "),a("p",[t._v("在a.js文件里面的/就是对应的app.js里面的/api/a的地址")])]),t._v(" "),a("p",[a("strong",[t._v("作业")])]),t._v(" "),a("p",[t._v("实现jquery项目当中，自动登录，注册时头像的上传，接口逻辑利用路由实现")]),t._v(" "),a("h2",{attrs:{id:"数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),a("h3",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[t._v("#")]),t._v(" mysql")]),t._v(" "),a("p",[t._v("关系数据库，二维表，不存在子表")]),t._v(" "),a("p",[a("strong",[t._v("sql语句")])]),t._v(" "),a("p",[a("strong",[t._v("建库")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("CREATE DATABASE  `2017-12-6` DEFAULT CHARACTER SET utf8 -- UTF-8 Unicode COLLATE utf8_general_ci;\n")])])]),a("p",[a("strong",[t._v("建表")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("CREATE TABLE `user` (\n\t\t\t\t\t`name` VARCHAR( 32 ) NOT NULL ,\n\t\t\t\t\t`age` INT( 3 ) NOT NULL ,\n\t\t\t\t\t`address` VARCHAR( 128 ) NOT NULL\n\t\t\t\t\t) ENGINE = INNODB\n")])])]),a("p",[a("strong",[t._v("增")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("INSERT INTO 表 (字段列表) VALUES(值列表)\nINSERT INTO user (name,age,address) VALUES('苏菲',38,'中国香港')\n")])])]),a("p",[a("strong",[t._v("删")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DELETE FROM 表 WHERE 字段名=值\nDELETE FROM user WHERE name='sufei'\n")])])]),a("p",[a("strong",[t._v("改")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("UPDATE 表 SET 字段名=值 WHERE 字段名=值\nUPDATE user set name='sufei' WHERE name='苏菲'\n")])])]),a("p",[a("strong",[t._v("查")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SELECT ? FROM 表\nSELECT * FROM user  查所有\n")])])]),a("h3",{attrs:{id:"node-mysql客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-mysql客户端"}},[t._v("#")]),t._v(" node + mysql客户端")]),t._v(" "),a("p",[t._v("安装+引入")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm install mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mysql'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("创建库链接")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" connection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createConnection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  host     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  user     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  password "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  database "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nconnection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("库操作")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sql语句'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" results"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fields")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'The solution is: '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" results"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("code",[t._v("results在增加、修改、删除的时候返回的是一个对象，而在查询的时候返回的是一个数组！")])]),t._v(" "),a("p",[t._v("关闭库")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[t._v("#")]),t._v(" mongodb")]),t._v(" "),a("p",[t._v("非关系型数据库，又叫nosql，缓存型，使用场景多是解决大规模数据集合多重数据种类")]),t._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://www.mongodb.com/download-center",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://www.cnblogs.com/keyi/p/10984514.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装帮助"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("配置数据文件存储位置：")])])]),t._v(" "),a("p",[t._v("找到安装目录 D:\\web-software\\mongo\\data\\db")]),t._v(" "),a("blockquote",[a("p",[t._v("data和db目录要手动创建")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("服务端启动:")])]),t._v(" "),a("p",[t._v("找到安装目录> mongod --dbpath 路径  回车")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("客户端启动:")])]),t._v(" "),a("p",[t._v("找到安装目录> mongo 回车")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("环境变量")])]),t._v(" "),a("p",[t._v("为了在任意盘符下去都可以启动  mongod服务端|mongo客户端，把安装目录添加到环境变量")]),t._v(" "),a("p",[a("strong",[t._v("mysql vs mongodb")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("mysql")]),t._v(" "),a("th",[t._v("mongoDb")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("database(库)")]),t._v(" "),a("td",[t._v("database(库)")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("table(表)")]),t._v(" "),a("td",[t._v("collection(集合)")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("row(一条数据)")]),t._v(" "),a("td",[t._v("document(文档)")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("column(字段)")]),t._v(" "),a("td",[t._v("field(区域)")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("二维表，每次存到磁盘")]),t._v(" "),a("td",[t._v("json，存在缓存，关闭时存到磁盘")]),t._v(" "),a("td",[a("strong",[t._v("存储方式")])])])])]),t._v(" "),a("p",[t._v("mongodb数据库的相关命令：")]),t._v(" "),a("p",[t._v("​\t常看所有的数据库 ： show dbs")]),t._v(" "),a("p",[t._v("​\t切换/创建数据库：use student")]),t._v(" "),a("p",[t._v("​    删除数据库： db.dropDatabase()")]),t._v(" "),a("p",[t._v("​    创建集合：db.createCollection('表名',{配置})   ===> db.bbb.isCapped()")]),t._v(" "),a("p",[t._v("​    查看集合：db.getCollectionNames()  /  show collections")]),t._v(" "),a("p",[t._v("​\t插入数据：db.user.insert({})")]),t._v(" "),a("p",[t._v("​    更新数据：db.user.update({条件},{$set:{age:25}},false,true)")]),t._v(" "),a("p",[t._v("​    查询数据：db.user.find({})")]),t._v(" "),a("p",[t._v("​\t\t\t\t\t    db.user.find({},{age:1,_id:0})")]),t._v(" "),a("p",[t._v("​\t\t\t\t\t\tdb.user.find({}).skip(3).limit(3)")]),t._v(" "),a("p",[t._v("​\t排序：         db.user.find().sort({age:1})")]),t._v(" "),a("p",[t._v("mongodb"),a("strong",[t._v("命令行操作")]),t._v("\t 声明式 | obj.api()")]),t._v(" "),a("p",[a("strong",[t._v("库操作")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("查"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" show dbs\n  \tdb 查看当前库\n建"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\tuse 库名\t   没有建，有就切换\n删"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dropDatabase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  删除当前库\n")])])]),a("p",[a("strong",[t._v("集合(表)操作")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("建：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createCollection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'表名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("配置"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//配置：{size:文件大小,capped:true,max:条数|文档数} capped定量")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//db.表(集合).isCapped() 返回 true/false 是否是定量")]),t._v("\n查：show collections "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCollectionNames")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n删：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("表"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("文档(row)操作")])]),t._v(" "),a("p",[a("strong",[t._v("增")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//添加一条")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//添加一条")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//添加一条")]),t._v("\n\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//多条")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//多条")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//insert  相同ID字段不会进行插入更改\tsave会")]),t._v("\n")])])]),a("p",[a("strong",[t._v("删")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("要删数据条件描述"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一条")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一条")]),t._v("\n\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("要删数据条件描述"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//多条")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//清空表")]),t._v("\n")])])]),a("p",[a("strong",[t._v("改")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("udpate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("查询条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("替换条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("插入boolean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("全替换boolean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将所有的用户名为李四的年龄全都设置为20岁")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"李四"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n第三个参数：如果更新的数据没有的话则插入，默认不插入\n第四个参数：默认只更新一条数据，如果要批量更新设置"),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),a("p",[t._v("查询条件")]),t._v(" "),a("blockquote",[a("p",[t._v("​        {age:22}\t\t         age == 22")]),t._v(" "),a("p",[t._v("​\t\t{age:{   $gt:22 }}\tage > 22")]),t._v(" "),a("p",[t._v("​\t    {age:{  $lt:22}}      age < 22")]),t._v(" "),a("p",[t._v("​\t\t{age:{$gte: 22}}\tage>=22")]),t._v(" "),a("p",[t._v("​\t\t{age:{$lte:22}}\t  age<=22")]),t._v(" "),a("p",[t._v("​\t\t{age:{ $lte:122,$gte:22}}\tage<=122 && age>=22")]),t._v(" "),a("p",[t._v("​\t\t{$or:[{age:22},{age:122}]}\t22 or 122")]),t._v(" "),a("p",[t._v("​\t\t{key:value,key2:value2}  value && value2")]),t._v(" "),a("p",[t._v("​\t\t{name:/正则/}")]),t._v(" "),a("p",[t._v("替换条件")]),t._v(" "),a("p",[t._v("{$set:{数据}}")]),t._v(" "),a("p",[t._v("{inc:{age:5}}    //在原来的基础上年龄递增5")])]),t._v(" "),a("p",[a("strong",[t._v("查")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("所有：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n条数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n去重：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("distinct")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("指定要显示列区域"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("指定要显示列区域")]),t._v(" "),a("p",[t._v("username:1 显示这个区域")]),t._v(" "),a("p",[t._v("username:0 不显示这个区域")]),t._v(" "),a("p",[t._v("_id 是默认显示")])]),t._v(" "),a("p",[a("strong",[t._v("排")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//升")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//降")]),t._v("\n")])])]),a("p",[a("strong",[t._v("限定")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//限定")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("skip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//跳过")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//找第一个")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查询第一条")]),t._v("\n")])])]),a("h3",{attrs:{id:"node-mongodb客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-mongodb客户端"}},[t._v("#")]),t._v(" node + mongodb客户端")]),t._v(" "),a("p",[t._v("安装+引入")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm install mongodb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongodb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("实例化并连接")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" mongoCt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mongodb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MongoClient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmongoCt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'协议://地址:端口'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("回调")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//err 错误 client链接后的客户端")]),t._v("\n")])])]),a("p",[t._v("链接库和集合")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" db "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'库名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("collection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'集合名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("集合操作")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//user.API()  集合操作 \t返回 对象")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//增")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("对象数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//res = 对象  ")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//res = 对象  ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//res.result.n 结果  ok 状态")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//res.ops内容  数组")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//result.insertedId 插入后的id")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删:")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//改:")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("更新后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("更新后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("更新后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("配置"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//配置: upsert:true 插入\tprojection:true 全局替换")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查:")]),t._v("\n  user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("skip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("projection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("对象"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("projection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toArray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("reulst"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("countDocuments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("num返回数量"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//排")]),t._v("\n  user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toArray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("projection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sort"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toArray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("关闭库")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"node-mongoose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-mongoose"}},[t._v("#")]),t._v(" node  +  mongoose")]),t._v(" "),a("p",[t._v("一款mongodb客户端 "),a("a",{attrs:{href:"https://mongoosejs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"http://www.mongoosejs.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("中文"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"可视化客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可视化客户端"}},[t._v("#")]),t._v(" 可视化客户端")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("a",{attrs:{href:"https://robomongo.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Robo 3T"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://studio3t.com/download-thank-you/?OS=win64",target:"_blank",rel:"noopener noreferrer"}},[t._v("Studio3t"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"express生成器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express生成器"}},[t._v("#")]),t._v(" Express生成器")]),t._v(" "),a("p",[t._v("应用程序生成器、脚手架 、命令行工具、自动搭建项目环境的，无需手动")]),t._v(" "),a("p",[a("strong",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm install express"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g   \n")])])]),a("p",[a("strong",[t._v("验证")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("h\n")])])]),a("p",[a("strong",[t._v("生成环境")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e 目录 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// . 当前目录创建 ")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//-e 需要ejs模板引擎")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//express -f  强制在非空目录下创建")]),t._v("\ncd 目录\nnpm install \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装依赖包")]),t._v("\nnpm start    \nnode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www\n")])])]),a("p",[a("a",{attrs:{href:"http://www.expressjs.com.cn/starter/generator.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("扩展"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);