<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习方法 | 代码生涯</title>
    <meta name="description" content="一些练习和记录">
    <link rel="icon" href="/favicons.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.02150d72.css" as="style"><link rel="preload" href="/assets/js/app.85014b79.js" as="script"><link rel="preload" href="/assets/js/3.766598cb.js" as="script"><link rel="preload" href="/assets/js/1.427dc4bf.js" as="script"><link rel="preload" href="/assets/js/23.f7f5efab.js" as="script"><link rel="prefetch" href="/assets/js/10.816dea60.js"><link rel="prefetch" href="/assets/js/11.11e8726e.js"><link rel="prefetch" href="/assets/js/12.de65f131.js"><link rel="prefetch" href="/assets/js/13.885c2858.js"><link rel="prefetch" href="/assets/js/14.e9ab6d1e.js"><link rel="prefetch" href="/assets/js/15.656c5a04.js"><link rel="prefetch" href="/assets/js/16.53ef6819.js"><link rel="prefetch" href="/assets/js/17.a7c823ca.js"><link rel="prefetch" href="/assets/js/18.e1737fd7.js"><link rel="prefetch" href="/assets/js/19.c3986b3b.js"><link rel="prefetch" href="/assets/js/20.351b1ac4.js"><link rel="prefetch" href="/assets/js/21.77de195b.js"><link rel="prefetch" href="/assets/js/22.470b3743.js"><link rel="prefetch" href="/assets/js/24.deb6044b.js"><link rel="prefetch" href="/assets/js/25.6123633c.js"><link rel="prefetch" href="/assets/js/26.7500003d.js"><link rel="prefetch" href="/assets/js/27.d4d4f4be.js"><link rel="prefetch" href="/assets/js/28.5326cd8c.js"><link rel="prefetch" href="/assets/js/29.b9a1fe0f.js"><link rel="prefetch" href="/assets/js/30.49d84d80.js"><link rel="prefetch" href="/assets/js/31.b79ac1f5.js"><link rel="prefetch" href="/assets/js/32.1388df73.js"><link rel="prefetch" href="/assets/js/33.e0957d51.js"><link rel="prefetch" href="/assets/js/34.fc94aaa3.js"><link rel="prefetch" href="/assets/js/35.54c26ac1.js"><link rel="prefetch" href="/assets/js/36.3349fc18.js"><link rel="prefetch" href="/assets/js/37.9f6b6168.js"><link rel="prefetch" href="/assets/js/38.1fe17181.js"><link rel="prefetch" href="/assets/js/39.b801b339.js"><link rel="prefetch" href="/assets/js/4.936e767e.js"><link rel="prefetch" href="/assets/js/40.7c18d459.js"><link rel="prefetch" href="/assets/js/41.5594207b.js"><link rel="prefetch" href="/assets/js/5.6b50412a.js"><link rel="prefetch" href="/assets/js/6.c134e9c1.js"><link rel="prefetch" href="/assets/js/7.3403803b.js"><link rel="prefetch" href="/assets/js/8.2ed145b0.js"><link rel="prefetch" href="/assets/js/9.6aa5a2b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.02150d72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>代码生涯</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Sun Yongming</span>
            
          <span data-v-6cbeab0a>2019 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">代码生涯</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/technology/" class="nav-link"><i class="iconfont undefined"></i>
  technology
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/favicons.jpg" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    Sun Yongming
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>19</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>9</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/technology/" class="nav-link"><i class="iconfont undefined"></i>
  technology
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>学习方法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technology/nodejs.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#干嘛的" class="sidebar-link">干嘛的</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#目标" class="sidebar-link">目标</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#优势" class="sidebar-link">优势</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#劣势" class="sidebar-link">劣势</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#环境安装" class="sidebar-link">环境安装</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#版本" class="sidebar-link">版本</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#开发工具" class="sidebar-link">开发工具</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#运行" class="sidebar-link">运行</a></li></ul></li><li><a href="/technology/nodejs.html#开发注意" class="sidebar-link">开发注意</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/nodejs.html#web服务器" class="sidebar-link">web服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#构成" class="sidebar-link">构成</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#前后端交互流程" class="sidebar-link">前后端交互流程</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/technology/nodejs.html#fs模块" class="sidebar-link">fs模块</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/nodejs.html#静态资源托管" class="sidebar-link">静态资源托管</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#什么是静态资源" class="sidebar-link">什么是静态资源</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#前端资源请求" class="sidebar-link">前端资源请求</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#后端资源读取" class="sidebar-link">后端资源读取</a></li></ul></li><li><a href="/technology/nodejs.html#接口实现" class="sidebar-link">接口实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#前端" class="sidebar-link">前端</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#后端" class="sidebar-link">后端</a></li></ul></li><li><a href="/technology/nodejs.html#url模块" class="sidebar-link">url模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#作用" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#用法" class="sidebar-link">用法</a></li></ul></li><li><a href="/technology/nodejs.html#querystring-模块" class="sidebar-link">querystring 模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#作用-2" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#用法-2" class="sidebar-link">用法</a></li></ul></li><li><a href="/technology/nodejs.html#模块化commonjs" class="sidebar-link">模块化	commonJS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#介绍-2" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#作用-3" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#系统模块" class="sidebar-link">系统模块</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#输入" class="sidebar-link">输入</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#输出" class="sidebar-link">输出</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#注意" class="sidebar-link">注意</a></li></ul></li><li><a href="/technology/nodejs.html#npm" class="sidebar-link">NPM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#作用-4" class="sidebar-link">作用</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装到全局环境" class="sidebar-link">安装到全局环境</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装到项目环境" class="sidebar-link">安装到项目环境</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#查看包" class="sidebar-link">查看包</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装所有依赖" class="sidebar-link">安装所有依赖</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#版本约束" class="sidebar-link">版本约束</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#选择源" class="sidebar-link">选择源</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装卡顿时" class="sidebar-link">安装卡顿时</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#发布包" class="sidebar-link">发布包</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#扩展" class="sidebar-link">扩展</a></li></ul></li><li><a href="/technology/nodejs.html#yarn" class="sidebar-link">YARN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#使用" class="sidebar-link">使用</a></li></ul></li><li><a href="/technology/nodejs.html#bower" class="sidebar-link">BOWER</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装bower" class="sidebar-link">安装bower</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装包到全局环境" class="sidebar-link">安装包到全局环境</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#安装包到项目环境" class="sidebar-link">安装包到项目环境</a></li></ul></li><li><a href="/technology/nodejs.html#express" class="sidebar-link">EXPRESS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#特点" class="sidebar-link">特点</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#搭建web服务" class="sidebar-link">搭建web服务</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#静态资源托管-2" class="sidebar-link">静态资源托管</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#接口响应" class="sidebar-link">接口响应</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#use" class="sidebar-link">use</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#中间件" class="sidebar-link">中间件</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#后端跳转" class="sidebar-link">后端跳转</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#扩展-2" class="sidebar-link">扩展</a></li></ul></li><li><a href="/technology/nodejs.html#身份验证" class="sidebar-link">身份验证</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#session" class="sidebar-link">session</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#token" class="sidebar-link">token</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#session-vs-token" class="sidebar-link">session vs token</a></li></ul></li><li><a href="/technology/nodejs.html#文件上传" class="sidebar-link">文件上传</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#path系统模块" class="sidebar-link">path系统模块</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#multer中间件" class="sidebar-link">multer中间件</a></li></ul></li><li><a href="/technology/nodejs.html#后端渲染" class="sidebar-link">后端渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#模板引擎" class="sidebar-link">模板引擎</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#jade" class="sidebar-link">jade</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#ejs" class="sidebar-link">ejs</a></li></ul></li><li><a href="/technology/nodejs.html#路由" class="sidebar-link">路由</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/nodejs.html#数据库" class="sidebar-link">数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/nodejs.html#mysql" class="sidebar-link">mysql</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#node-mysql客户端" class="sidebar-link">node + mysql客户端</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#mongodb" class="sidebar-link">mongodb</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#node-mongodb客户端" class="sidebar-link">node + mongodb客户端</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#node-mongoose" class="sidebar-link">node  +  mongoose</a></li><li class="sidebar-sub-header"><a href="/technology/nodejs.html#可视化客户端" class="sidebar-link">可视化客户端</a></li></ul></li><li><a href="/technology/nodejs.html#express生成器" class="sidebar-link">Express生成器</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Sun Yongming</span>
            
          <span data-v-6cbeab0a>2019 - </span>
          2021
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>学习方法</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>Sun Yongming</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="学习方法"><a href="#学习方法" class="header-anchor">#</a> 学习方法</h1> <ul><li>掌握思想</li> <li>查资料的方式</li> <li>问问题的方式</li></ul> <h1 id="nodejs"><a href="#nodejs" class="header-anchor">#</a> NODEJS</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="干嘛的"><a href="#干嘛的" class="header-anchor">#</a> 干嘛的</h3> <p>写后台管理程序，与之类似php  .net   java</p> <h3 id="目标"><a href="#目标" class="header-anchor">#</a> 目标</h3> <p>数据服务，文件服务，web服务</p> <h3 id="优势"><a href="#优势" class="header-anchor">#</a> 优势</h3> <p>性能高，方便、入门难度低、大公司都在用（BAT）</p> <h3 id="劣势"><a href="#劣势" class="header-anchor">#</a> 劣势</h3> <ul><li>服务器提供的相对较少</li> <li>相对其他语言，能用的上的学习资料少</li> <li>对程序员的要求高了</li></ul> <h3 id="环境安装"><a href="#环境安装" class="header-anchor">#</a> 环境安装</h3> <p>官网：<a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">英文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://nodejs.cn/" target="_blank" rel="noopener noreferrer">中文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://npm.taobao.org/" target="_blank" rel="noopener noreferrer">镜像<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>测试环境： <code>win+r-&gt;命令行(运行-&gt;cmd)-&gt;node -v</code></p> <h3 id="版本"><a href="#版本" class="header-anchor">#</a> 版本</h3> <p>Vx(主).x(子).x（修正）</p> <blockquote><p>主版本:	变化了，1/3的API发生巨变 , 使用方式变化了</p> <p>子版本：	API没有删减，使用方式没变化,内部实现发生了变化</p> <p>修正版：什么都没变，处理一下bug</p> <p>V6.8.0  稳定</p> <p>V6.9.1 非稳定版   不建议下载</p> <p>beta 测试</p> <p>rc  、alpha测试稳定</p></blockquote> <h3 id="开发工具"><a href="#开发工具" class="header-anchor">#</a> 开发工具</h3> <p>IDE偏重，对机器要求高，功能齐全，</p> <p>编辑器，轻便，速度快，功能后期补装插件</p> <h4 id="ide"><a href="#ide" class="header-anchor">#</a> IDE</h4> <p><a href="https://www.dcloud.io/index.html" target="_blank" rel="noopener noreferrer">Hbuild<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.jetbrains.com/webstorm/" target="_blank" rel="noopener noreferrer">WebStorm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://download.dcloud.net.cn/HBuilderX.2.5.1.20200103.full.zip" target="_blank" rel="noopener noreferrer">HbuildX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/palantir/eclipse-typescript" target="_blank" rel="noopener noreferrer">Eclipse<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="编辑器"><a href="#编辑器" class="header-anchor">#</a> 编辑器</h4> <p><a href="https://atom.io/packages/atom-typescript" target="_blank" rel="noopener noreferrer">Atom<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">Visual Studio Code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/Microsoft/TypeScript-Sublime-Plugin" target="_blank" rel="noopener noreferrer">Sublime Text<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="node命令行"><a href="#node命令行" class="header-anchor">#</a> node命令行</h4> <p><code>node 回车</code></p> <h3 id="运行"><a href="#运行" class="header-anchor">#</a> 运行</h3> <h5 id="window"><a href="#window" class="header-anchor">#</a> window</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>a<span class="token punctuation">.</span> 找到目标目录<span class="token operator">-</span>》地址栏输入cmd<span class="token operator">-</span>》node 文件名<span class="token punctuation">.</span>js <span class="token operator">|</span> node 文件名

b<span class="token punctuation">.</span> 当前目录<span class="token operator">-</span><span class="token operator">&gt;</span>右键<span class="token operator">-</span><span class="token operator">&gt;</span>git bash<span class="token operator">-</span><span class="token operator">&gt;</span> node 文件名
</code></pre></div><h5 id="苹果"><a href="#苹果" class="header-anchor">#</a> 苹果</h5> <div class="language- extra-class"><pre class="language-text"><code>终端-&gt;cd 目录-&gt; node 文件名.js | node 文件名
</code></pre></div><h5 id="vscode"><a href="#vscode" class="header-anchor">#</a> vscode</h5> <div class="language- extra-class"><pre class="language-text"><code>新建终端-&gt;cd 目录-&gt;node 文件名.js | node 文件名 
</code></pre></div><h5 id="webstrom"><a href="#webstrom" class="header-anchor">#</a> webstrom</h5> <div class="language- extra-class"><pre class="language-text"><code>terminal| run
</code></pre></div><h2 id="开发注意"><a href="#开发注意" class="header-anchor">#</a> 开发注意</h2> <p><code>nodejs</code> 使用的是<code>ECMA</code>语法，不可使用<code>DOM</code>，<code>BOM</code>   （console.log可以使用 ，alert不可使用）</p> <h2 id="web服务器"><a href="#web服务器" class="header-anchor">#</a> web服务器</h2> <h3 id="构成"><a href="#构成" class="header-anchor">#</a> 构成</h3> <ul><li>机器：	电脑</li> <li>数据库：mysql | sqlserver | mongoDB | oracle
<ul><li>数据库存的是: 数字|字符</li> <li>磁盘（硬盘) 文件本身(图，视频,PDF)   文件服务器</li></ul></li> <li>管理程序：nodejs（管理前后端工程文件）</li></ul> <h3 id="前后端交互流程"><a href="#前后端交互流程" class="header-anchor">#</a> 前后端交互流程</h3> <p><strong>大后端</strong></p> <p>​	用户 - &gt; 地址栏(http[s]请求) -&gt; web服务器（收到) - &gt; nodejs处理请求(返回静态、动态)-&gt;请求数据库服务(返回结果)-&gt;nodejs(接收)-&gt;node渲染页面-&gt;浏览器（接收页面，完成最终渲染)</p> <p><strong>大前端</strong></p> <p>​	用户 - &gt; http[s]请求 -&gt; web服务器（收到) - &gt; nodejs处理请求(返回静态、动态)-&gt;请求数据库服务(返回结果)-&gt;nodejs(接收)-&gt;返回给前端(渲染)-&gt;浏览器（接收页面，完成最终渲染)</p> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <p>引入http模块</p> <div class="language- extra-class"><pre class="language-text"><code>let http = require('http')
</code></pre></div><p>创建web服务   返回http对象</p> <div class="language- extra-class"><pre class="language-text"><code>let app = http.createServer((req,res)=&gt;{
	req 请求体  浏览器-&gt;服务器
	req.url  地址   提取地址栏数据
	req.on('data') 提取非地址栏数据 所有的http[s]都会触发end事件
	req.on('end') 
	
	res 响应  服务器-&gt;浏览器
	res.writeHead(200,{'Content-Type':'text/html;charset=utf-8'});响应头设置
	res.write(字符/数据&lt;string&gt;&lt;buffer&gt;) 返回数据
	res.end() 结束响应 必须
})
</code></pre></div><p>监听服务器</p> <div class="language- extra-class"><pre class="language-text"><code>app.listen(端口，[地址]，[回调])
</code></pre></div><blockquote><p>监听成功，回调一次</p> <p>端口: 1-65535	1024以下系统占用</p> <p>虚拟地址localhost  真实域名xx.duapp.com</p></blockquote> <blockquote><p>更新后,需要每次服务器自动重启</p> <p>推荐命令行工具：<code>supervisor</code> <code>nodemon</code></p> <p>安装方式: <code>npm install supervisor -g</code></p></blockquote> <h2 id="fs模块"><a href="#fs模块" class="header-anchor">#</a> fs模块</h2> <p>磁盘操作，文件操作</p> <h4 id="读取"><a href="#读取" class="header-anchor">#</a> 读取</h4> <div class="language- extra-class"><pre class="language-text"><code>fs.readFile('文件路径',[编码方式],(err,data)=&gt;{})
</code></pre></div><p>[^err ]: err 错误 ,null没有错误
[^data]: 数据,buffer流</p> <div class="language- extra-class"><pre class="language-text"><code>变量 = fs.readFileSync('文件路径') 
</code></pre></div><blockquote><p>处理错误</p> <p>try{要排错的代码}catch(e){}</p></blockquote> <h4 id="更名"><a href="#更名" class="header-anchor">#</a> 更名</h4> <div class="language- extra-class"><pre class="language-text"><code>fs.renameSync('改前','改后');
</code></pre></div><h4 id="删除"><a href="#删除" class="header-anchor">#</a> 删除</h4> <div class="language- extra-class"><pre class="language-text"><code>fs.unlinkSync('文件路径')
</code></pre></div><h2 id="静态资源托管"><a href="#静态资源托管" class="header-anchor">#</a> 静态资源托管</h2> <h3 id="什么是静态资源"><a href="#什么是静态资源" class="header-anchor">#</a> 什么是静态资源</h3> <p><code>xx.css</code> <code>xx.html</code> <code>xx.js</code> <code>xx.图片</code> <code>xx.json</code> <code>xx.字体</code>	...</p> <h3 id="前端资源请求"><a href="#前端资源请求" class="header-anchor">#</a> 前端资源请求</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>..<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;...&quot;</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>....<span class="token punctuation">)</span></span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="后端资源读取"><a href="#后端资源读取" class="header-anchor">#</a> 后端资源读取</h3> <div class="language- extra-class"><pre class="language-text"><code>fs.readFile(文件名,[编码方式],回调(err,data));
</code></pre></div><h2 id="接口实现"><a href="#接口实现" class="header-anchor">#</a> 接口实现</h2> <h3 id="前端"><a href="#前端" class="header-anchor">#</a> 前端</h3> <p>表单：get/post/put/delete/...</p> <p>js： ajax/jsonp</p> <h3 id="后端"><a href="#后端" class="header-anchor">#</a> 后端</h3> <p>处理方式：<code>http[s]</code></p> <p>​	address:	<code>req.url</code>  抓取 get请求的数据  切字符 	| url模块</p> <p>​	!address:   <code>req.on('data',(chunk)=&gt;{CHUNK==每次收到的数据buffer})</code></p> <p>​						<code>req.on('end',()=&gt;{	接收完毕 切字符 querystring })</code></p> <blockquote><p>postman 一个不用写前端，就可以发出各种请求的软件 <a href="https://www.getpostman.com/downloads/" target="_blank" rel="noopener noreferrer">下载<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="url模块"><a href="#url模块" class="header-anchor">#</a> url模块</h2> <h3 id="作用"><a href="#作用" class="header-anchor">#</a> 作用</h3> <p>处理 url型的字符串</p> <h3 id="用法"><a href="#用法" class="header-anchor">#</a> 用法</h3> <div class="language- extra-class"><pre class="language-text"><code>url.parse(str,true)  返回 对象	true处理query为对象  {a:1,b:2}
</code></pre></div><blockquote><p>str -&gt; obj  返回 对象  true
protocol: 'http:',	协议
slashes: true,	双斜杠
auth: null,   作者
host: 'localhost:8002',  主机
port: '8002',	端口
hostname: 'localhost',  baidu
hash: '#title',	哈希（锚)
search: '?username=sdfsdf&amp;content=234234',	查询字符串
query: 'username=sdfsdf&amp;content=234234',	数据
pathname: '/aaa',	文件路径
path: '/aaa?username=sdfsdf&amp;content=234234',	文件路径
href: 'http://localhost:8002/aaa?username=sdfsdf&amp;content=234234#title'</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>url.format(obj) 返回url字符串
</code></pre></div><blockquote><p>obj -&gt; str   返回str</p></blockquote> <h2 id="querystring-模块"><a href="#querystring-模块" class="header-anchor">#</a> querystring 模块</h2> <h3 id="作用-2"><a href="#作用-2" class="header-anchor">#</a> 作用</h3> <p>处理查询字符串 如：<code>?key=value&amp;key2=value2</code></p> <h3 id="用法-2"><a href="#用法-2" class="header-anchor">#</a> 用法</h3> <div class="language- extra-class"><pre class="language-text"><code>querystring.parse(str) 返回对象
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>querystring.stringify(obj) 返回字符串
</code></pre></div><p><strong>作业</strong></p> <p>把jquery项目的node服务器搭建起来，保证静态资源可以读取，实现部分接口</p> <h2 id="模块化commonjs"><a href="#模块化commonjs" class="header-anchor">#</a> 模块化	commonJS</h2> <h3 id="介绍-2"><a href="#介绍-2" class="header-anchor">#</a> 介绍</h3> <p>是主要为了JS在后端的表现制定，commonJS 是个规范   nodejs / webpack 是一个实现</p> <blockquote><p>ECMA 是个规范  js / as 实现了他</p> <p>其他模块化规范：seajs.js / require.js   CMD/AMD/UMD   es5</p></blockquote> <h3 id="作用-3"><a href="#作用-3" class="header-anchor">#</a> 作用</h3> <p>是变量具有文件作用域，不污染全局变量</p> <h3 id="系统模块"><a href="#系统模块" class="header-anchor">#</a> 系统模块</h3> <p><code>http</code> <code>fs</code> <code>querystring</code> <code>url</code></p> <h3 id="输入"><a href="#输入" class="header-anchor">#</a> 输入</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'模块名'</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'模块名'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>xx  按需引用
</code></pre></div><blockquote><p>不指定路径：先找系统模块-&gt; 再从项目环境找node_modules|bower_components (依赖模块)-&gt;not found</p> <p>指定路径 : 找指定路径 -&gt; not found</p> <p>支持任何类型</p></blockquote> <h3 id="输出"><a href="#输出" class="header-anchor">#</a> 输出</h3> <div class="language-js extra-class"><pre class="language-js"><code>exports<span class="token punctuation">.</span>自定义属性 <span class="token operator">=</span> 值 <span class="token operator">|</span> any
</code></pre></div><blockquote><p>批量输出 都是属性</p> <p>可输出多次</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> 值 <span class="token operator">|</span> any	  <span class="token comment">//module.exports = {a,b,fn}	</span>
</code></pre></div><blockquote><p>只能输出一次</p></blockquote> <h3 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h3> <p>commonJS 是 nodejs 默认模块管理方式,不支持es6的模块化管理方式，但支持所有es6+语法</p> <h2 id="npm"><a href="#npm" class="header-anchor">#</a> NPM</h2> <h3 id="作用-4"><a href="#作用-4" class="header-anchor">#</a> 作用</h3> <p>帮助你安装模块（包），自动安装依赖，管理包（增，删，更新，项目所有包)</p> <blockquote><p>类似：	<a href="http://bower.io" target="_blank" rel="noopener noreferrer">bower<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://yarn.bootcss.com/" target="_blank" rel="noopener noreferrer">yarn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="安装到全局环境"><a href="#安装到全局环境" class="header-anchor">#</a> 安装到全局环境</h3> <ul><li>安装到电脑系统环境下</li> <li>使用时在任何位置都可以使用</li> <li>被全局安装的通常是：命令行工具，脚手架</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm i 包名 -g					    安装
npm uninstall 包名 -g	 			卸载
</code></pre></div><h3 id="安装到项目环境"><a href="#安装到项目环境" class="header-anchor">#</a> 安装到项目环境</h3> <p>只能在当前目录使用，需要使用npm代运行</p> <h4 id="初始化项目环境"><a href="#初始化项目环境" class="header-anchor">#</a> 初始化项目环境</h4> <div class="language- extra-class"><pre class="language-text"><code>npm init
</code></pre></div><blockquote><p>初始化npm管理文件package.json</p> <p>package-lock.json 文件用来固化依赖</p></blockquote> <div class="language-j extra-class"><pre class="language-j"><code><span class="token verb keyword">{</span>
  <span class="token conjunction variable">&quot;</span>name<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>npm<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>	<span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>项目名称
  <span class="token conjunction variable">&quot;</span>version<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span><span class="token number">0.0</span><span class="token conjunction variable">.</span><span class="token number">1</span><span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>	<span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>版本
  <span class="token conjunction variable">&quot;</span>description<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>test and play<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>	<span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>描述
  <span class="token conjunction variable">&quot;</span>main<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>index<span class="token conjunction variable">.</span>js<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span> <span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>入口文件
  <span class="token conjunction variable">&quot;</span>dependencies<span class="token verb keyword">&quot;:</span> <span class="token verb keyword">{</span>  <span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>项目依赖  上线也要用
    <span class="token conjunction variable">&quot;</span>jquery<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span><span class="token verb keyword">^</span><span class="token number">3.2</span><span class="token conjunction variable">.</span><span class="token number">1</span><span class="token conjunction variable">&quot;</span>
  <span class="token adverb builtin">}</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>devDependencies<span class="token verb keyword">&quot;:</span> <span class="token verb keyword">{</span> <span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>开发依赖 上线就不用
    <span class="token conjunction variable">&quot;</span>animat<span class="token verb keyword">e.</span>css<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span><span class="token verb keyword">^</span><span class="token number">3.5</span><span class="token conjunction variable">.</span><span class="token number">2</span><span class="token conjunction variable">&quot;</span>
  <span class="token adverb builtin">}</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>scripts<span class="token verb keyword">&quot;:</span> <span class="token verb keyword">{</span>	<span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>命令行
    <span class="token conjunction variable">&quot;</span>test<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>命令行<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>
  <span class="token adverb builtin">}</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>repository<span class="token verb keyword">&quot;:</span> <span class="token verb keyword">{</span>	<span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>仓库信息
    <span class="token conjunction variable">&quot;</span>type<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>git<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>
    <span class="token conjunction variable">&quot;</span>url<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>git<span class="token verb keyword">+</span>http<span class="token verb keyword">s:</span><span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>githu<span class="token adverb builtin">b.</span>com<span class="token adverb builtin">/</span>alexwa9<span class="token conjunction variable">.</span>githu<span class="token adverb builtin">b.</span>io<span class="token adverb builtin">/</span><span class="token number">2017</span><span class="token verb keyword">-</span><span class="token number">8</span><span class="token verb keyword">-</span><span class="token number">28</span><span class="token conjunction variable">.</span>git<span class="token conjunction variable">&quot;</span>
  <span class="token adverb builtin">}</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>keywords<span class="token verb keyword">&quot;:</span> <span class="token verb keyword">[</span>  <span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>关键词
    <span class="token conjunction variable">&quot;</span>test<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span><span class="token string">'xx'</span><span class="token verb keyword">,</span><span class="token string">'oo'</span>
  <span class="token verb keyword">]</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>author<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>wan9<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>license<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>ISC<span class="token conjunction variable">&quot;</span><span class="token verb keyword">,</span>	<span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>认证
  <span class="token conjunction variable">&quot;</span>bugs<span class="token verb keyword">&quot;:</span> <span class="token verb keyword">{</span>
    <span class="token conjunction variable">&quot;</span>url<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>http<span class="token verb keyword">s:</span><span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>githu<span class="token adverb builtin">b.</span>com<span class="token adverb builtin">/</span>alexwa9<span class="token conjunction variable">.</span>githu<span class="token adverb builtin">b.</span>io<span class="token adverb builtin">/</span><span class="token number">2017</span><span class="token verb keyword">-</span><span class="token number">8</span><span class="token verb keyword">-</span><span class="token number">28</span><span class="token adverb builtin">/</span>issues<span class="token conjunction variable">&quot;</span><span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>问题提交
  <span class="token adverb builtin">}</span><span class="token verb keyword">,</span>
  <span class="token conjunction variable">&quot;</span>homepage<span class="token verb keyword">&quot;:</span> <span class="token conjunction variable">&quot;</span>http<span class="token verb keyword">s:</span><span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>githu<span class="token adverb builtin">b.</span>com<span class="token adverb builtin">/</span>alexwa9<span class="token conjunction variable">.</span>githu<span class="token adverb builtin">b.</span>io<span class="token adverb builtin">/</span><span class="token number">2017</span><span class="token verb keyword">-</span><span class="token number">8</span><span class="token verb keyword">-</span><span class="token number">28</span><span class="token verb keyword">#</span>readme<span class="token conjunction variable">&quot;</span><span class="token adverb builtin">/</span><span class="token adverb builtin">/</span>首页
<span class="token adverb builtin">}</span>
</code></pre></div><h4 id="项目依赖"><a href="#项目依赖" class="header-anchor">#</a> 项目依赖</h4> <p>只能在当前项目下使用，上线了，也需要这个依赖  <code>--save</code></p> <div class="language- extra-class"><pre class="language-text"><code>//安装
npm i 包名 --save
npm install 包名 -S
npm install 包名@x.x.x -S

//卸载
npm uninstall 包名 --save
npm uninstall 包名 -S
</code></pre></div><h4 id="开发依赖"><a href="#开发依赖" class="header-anchor">#</a> 开发依赖</h4> <p>只能在当前项目下使用	，上线了，依赖不需要了 <code>--save-dev</code></p> <div class="language- extra-class"><pre class="language-text"><code>npm install 包名 --save-dev
npm install 包名 -D
</code></pre></div><h3 id="查看包"><a href="#查看包" class="header-anchor">#</a> 查看包</h3> <div class="language- extra-class"><pre class="language-text"><code>npm list  列出所有已装包
npm outdated 版本对比(安装过得包)
npm info 包名 查看当前包概要信息 
npm view 包名 versions 查看包历史版本列表
</code></pre></div><h3 id="安装所有依赖"><a href="#安装所有依赖" class="header-anchor">#</a> 安装所有依赖</h3> <div class="language- extra-class"><pre class="language-text"><code>npm install 
</code></pre></div><blockquote><p>安装package.json里面指定的所有包</p></blockquote> <h3 id="版本约束"><a href="#版本约束" class="header-anchor">#</a> 版本约束</h3> <div class="language- extra-class"><pre class="language-text"><code>^x.x.x   约束主版本，后续找最新  
~x.x.x   保持前两位不变，后续找最新
*		 装最新(?)
x.x.x 	 定死了一个版本
</code></pre></div><h3 id="选择源"><a href="#选择源" class="header-anchor">#</a> 选择源</h3> <div class="language- extra-class"><pre class="language-text"><code>npm install nrm -g     安装选择源的工具包
nrm ls 查看所有源
nrm test 测试所有源
nrm use 切换源名
</code></pre></div><h3 id="安装卡顿时"><a href="#安装卡顿时" class="header-anchor">#</a> 安装卡顿时</h3> <div class="language- extra-class"><pre class="language-text"><code>ctrl + c -&gt; npm uninstall 包名  -&gt; npm cache 清除缓存 -&gt; 换4g网络 -&gt; npm install 包名
</code></pre></div><h3 id="发布包"><a href="#发布包" class="header-anchor">#</a> 发布包</h3> <ul><li>官网 <a href="">注册</a></li> <li>登录 (发布包的时候，必须要登录到npm自己的源上面进行发布)
<ul><li><code>npm login</code> 登录</li> <li>输入 user/password/email</li></ul></li> <li>创建包
<ul><li><code>npm init -y</code></li> <li>创建入口index.js</li> <li>编写，输出</li></ul></li> <li>发布
<ul><li><code>npm publish</code></li></ul></li> <li>迭代
<ul><li>修改版本号</li> <li><code>npm publish</code></li></ul></li> <li>删除
<ul><li><code>npm unpublish</code></li></ul></li></ul> <blockquote><p>包的发布、迭代、删除，需要在包目录下进行</p> <p>删除包，有时需要发送邮件</p></blockquote> <h3 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h3> <div class="language- extra-class"><pre class="language-text"><code>peerDependencies 发布依赖
optionalDependencies 可选依赖
bundledDependencies 捆绑依赖
contributors 为你的包装做出贡献的人。贡献者是一群人。
files 项目中包含的文件。您可以指定单个文件，整个目录或使用通配符来包含符合特定条件的文件
</code></pre></div><h2 id="yarn"><a href="#yarn" class="header-anchor">#</a> YARN</h2> <p><a href="https://classic.yarnpkg.com/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p><a href="https://classic.yarnpkg.com/zh-Hans/" target="_blank" rel="noopener noreferrer">去官网安装<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>注意：为省事，不要用npm i yarn -g，去安装yarn，而是去下载压缩包，保证注册表和环境变量的硬写入，后期通过yarn安装全局包时方便</p></blockquote> <h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <p><strong>初始化一个新项目</strong></p> <div class="language- extra-class"><pre class="language-text"><code>yarn init
</code></pre></div><p><strong>添加依赖包</strong></p> <div class="language- extra-class"><pre class="language-text"><code>yarn add [package]
yarn add [package]@[version]
yarn add [package]@[tag]
</code></pre></div><p><strong>将依赖项添加到不同依赖项类别中</strong></p> <p>分别添加到 <code>dependencies</code>,<code>devDependencies</code>、<code>peerDependencies</code> 和 <code>optionalDependencies</code> 类别中：</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add [package] --save   | -S 
yarn add [package] --dev    | -D 
yarn add [package] --peer
yarn add [package] --optional
</code></pre></div><p><strong>升级依赖包</strong></p> <div class="language- extra-class"><pre class="language-text"><code>yarn upgrade [package]
yarn upgrade [package]@[version]
yarn upgrade [package]@[tag]
</code></pre></div><p><strong>移除依赖包</strong></p> <div class="language- extra-class"><pre class="language-text"><code>yarn remove [package]
</code></pre></div><p><strong>安装项目的全部依赖</strong></p> <div class="language- extra-class"><pre class="language-text"><code>yarn
</code></pre></div><p>或者</p> <div class="language- extra-class"><pre class="language-text"><code>yarn install
</code></pre></div><p><strong>安装到全局</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>yarn global add <span class="token punctuation">[</span><span class="token keyword">package</span><span class="token punctuation">]</span>				<span class="token comment">//global的位置测试不能变</span>
yarn global remove <span class="token punctuation">[</span><span class="token keyword">package</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="bower"><a href="#bower" class="header-anchor">#</a> BOWER</h2> <p><a href="https://bower.io/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="安装bower"><a href="#安装bower" class="header-anchor">#</a> 安装bower</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g bower
</code></pre></div><h3 id="安装包到全局环境"><a href="#安装包到全局环境" class="header-anchor">#</a> 安装包到全局环境</h3> <div class="language- extra-class"><pre class="language-text"><code>bower i 包名 -g		     安装
bower uninstall 包名 -g	 卸载
</code></pre></div><h3 id="安装包到项目环境"><a href="#安装包到项目环境" class="header-anchor">#</a> 安装包到项目环境</h3> <h4 id="初始化项目环境-2"><a href="#初始化项目环境-2" class="header-anchor">#</a> 初始化项目环境</h4> <div class="language- extra-class"><pre class="language-text"><code>bower init
</code></pre></div><blockquote><p>bower.json  第三方包管理配置文件</p></blockquote> <h4 id="项目依赖-2"><a href="#项目依赖-2" class="header-anchor">#</a> 项目依赖</h4> <p>只能在当前项目下使用，上线了，也需要这个依赖  <code>--save</code></p> <div class="language- extra-class"><pre class="language-text"><code>//安装
同npm
bower install 包名#x.x.x -S 指定版本使用#

//卸载
同npm
</code></pre></div><h4 id="开发依赖-2"><a href="#开发依赖-2" class="header-anchor">#</a> 开发依赖</h4> <p>只能在当前项目下使用	，上线了，依赖不需要了 <code>--save-dev</code></p> <div class="language- extra-class"><pre class="language-text"><code>同npm
</code></pre></div><h2 id="express"><a href="#express" class="header-anchor">#</a> EXPRESS</h2> <p>nodejs库，不用基础做起，工作简单化，点击进入<a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，类似的还有 <a href="https://koa.bootcss.com/" target="_blank" rel="noopener noreferrer">koa<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h3> <p>二次封装，非侵入式，增强形</p> <h3 id="搭建web服务"><a href="#搭建web服务" class="header-anchor">#</a> 搭建web服务</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> express<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> server<span class="token operator">=</span><span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>端口<span class="token punctuation">,</span>地址<span class="token punctuation">,</span>回调<span class="token punctuation">)</span>
</code></pre></div><h3 id="静态资源托管-2"><a href="#静态资源托管-2" class="header-anchor">#</a> 静态资源托管</h3> <div class="language-js extra-class"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./www'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="接口响应"><a href="#接口响应" class="header-anchor">#</a> 接口响应</h3> <p>支持各种请求姿势：get、post、put、delete...</p> <div class="language-js extra-class"><pre class="language-js"><code>server<span class="token punctuation">.</span>请求姿势<span class="token constant">API</span><span class="token punctuation">(</span>接口名称<span class="token punctuation">,</span>处理函数<span class="token punctuation">)</span>
server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
server<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre></div><h4 id="req请求体"><a href="#req请求体" class="header-anchor">#</a> req	请求体</h4> <p>request 对象表示 HTTP 请求，包含了请求查询字符串，参数，内容，HTTP 头部等属性</p> <div class="language-js extra-class"><pre class="language-js"><code>req<span class="token punctuation">.</span>query <span class="token comment">//获取地址栏的数据</span>
req<span class="token punctuation">.</span>body <span class="token comment">//获取非地址栏的数据  依赖中间件 </span>

req<span class="token punctuation">.</span>params <span class="token comment">//获取动态接口名   app.get(&quot;/api/:id&quot;)</span>
req<span class="token punctuation">.</span>method <span class="token comment">//获取前端提交方式</span>
</code></pre></div><blockquote><p>req.body依赖中间件</p> <p>中间件使用:body-parser</p> <ol><li>npm install body-parser</li> <li>let bodyParser = require('body-parser')</li> <li>app.use(bodyParser ())</li></ol></blockquote> <h4 id="res响应体"><a href="#res响应体" class="header-anchor">#</a> res	响应体</h4> <p>response 对象表示 HTTP 响应，即在接收到请求时向客户端发送的 HTTP 响应数据</p> <div class="language-js extra-class"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>any<span class="token punctuation">)</span> <span class="token comment">//对等 res.write + res.end</span>
res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>string<span class="token operator">|</span>buffer<span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token comment">//返回json</span>
res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>error<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>msg<span class="token punctuation">:</span><span class="token string">&quot;Sorry can't find that!&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//返回一个404</span>

res<span class="token punctuation">.</span><span class="token function">jsonp</span><span class="token punctuation">(</span>响应数据<span class="token punctuation">)</span> <span class="token comment">//调用请求时的回调函数并传递响应数据</span>
res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'public/error.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//渲染纯 HTML 文件</span>
</code></pre></div><h4 id="jsonp响应"><a href="#jsonp响应" class="header-anchor">#</a> jsonp响应</h4> <div class="language-js extra-class"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'jsonp callback name'</span><span class="token punctuation">,</span><span class="token string">'cb'</span><span class="token punctuation">)</span><span class="token comment">//默认callback</span>
server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/jsonp接口'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>res<span class="token punctuation">.</span><span class="token function">jsonp</span><span class="token punctuation">(</span>数据<span class="token punctuation">)</span><span class="token punctuation">)</span>		
</code></pre></div><h4 id="处理一部分接口"><a href="#处理一部分接口" class="header-anchor">#</a> 处理一部分接口</h4> <p>共有业务逻辑,在一起给处理了</p> <div class="language-js extra-class"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'/admin/*'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>all匹配全路径 处理所有HTTP</p> <p>需要next 延续后续</p></blockquote> <h3 id="use"><a href="#use" class="header-anchor">#</a> use</h3> <p>安装中间件、路由、接受一个函数，</p> <div class="language- extra-class"><pre class="language-text"><code>server.use([地址],中间件|路由|函数体)
</code></pre></div><h3 id="中间件"><a href="#中间件" class="header-anchor">#</a> 中间件</h3> <p>middleware， 处理自定义业务，只处理请求到结束响应的中间部分</p> <p><strong>举例</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>npm i body<span class="token operator">-</span>parser <span class="token operator">-</span><span class="token constant">S</span> <span class="token comment">//安装包</span>
<span class="token keyword">let</span> bodyParser<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token comment">//引入中间件</span>
server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">bodyParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//安装中间件</span>
</code></pre></div><blockquote><p>body-parser 使用方式，实时查询 <a href="http://npmjs.com" target="_blank" rel="noopener noreferrer">npm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，可获得最新</p></blockquote> <h3 id="后端跳转"><a href="#后端跳转" class="header-anchor">#</a> 后端跳转</h3> <div class="language-js extra-class"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>      指向一个接口
</code></pre></div><h3 id="扩展-2"><a href="#扩展-2" class="header-anchor">#</a> 扩展</h3> <h4 id="req"><a href="#req" class="header-anchor">#</a> req</h4> <ul><li>req.app：当callback为外部文件时，用req.app访问express的实例</li> <li>req.baseUrl：获取路由当前安装的URL路径</li> <li>req.cookies：Cookies</li> <li>req.fresh / req.stale：判断请求是否还「新鲜」</li> <li>req.hostname / req.ip：获取主机名和IP地址</li> <li>req.originalUrl：获取原始请求URL</li> <li>req.path：获取请求路径</li> <li>req.protocol：获取协议类型</li> <li>req.route：获取当前匹配的路由</li> <li>req.subdomains：获取子域名</li> <li>req.accepts()：检查可接受的请求的文档类型</li> <li>req.acceptsCharsets / req.acceptsEncodings / req.acceptsLanguages：返回指定字符集的第一个可接受字符编码</li> <li>req.get()：获取指定的HTTP请求头</li> <li>req.is()：判断请求头Content-Type的MIME类型</li></ul> <h4 id="res"><a href="#res" class="header-anchor">#</a> res</h4> <ul><li>res.app：同req.app一样</li> <li>res.append()：追加指定HTTP头</li> <li>res.set()在res.append()后将重置之前设置的头</li> <li>res.cookie(name，value [，option])：设置Cookie</li> <li>opition: domain / expires / httpOnly / maxAge / path / secure / signed</li> <li>res.clearCookie()：清除Cookie</li> <li>res.download()：传送指定路径的文件</li> <li>res.get()：返回指定的HTTP头</li> <li>res.location()：只设置响应的Location HTTP头，不设置状态码或者close response</li> <li>res.render(view,[locals],callback)：渲染一个view，同时向callback传递渲染后的字符串，如果在渲染过程中有错误发生next(err)将会被自动调用。callback将会被传入一个可能发生的错误以及渲染后的页面，这样就不会自动输出了。</li> <li>res.sendFile(path [，options] [，fn])：传送指定路径的文件 -会自动根据文件extension设定Content-Type</li> <li>res.set()：设置HTTP头，传入object可以一次设置多个头</li> <li>res.status()：设置HTTP状态码</li> <li>res.type()：设置Content-Type的MIME类型</li></ul> <p><strong>作业</strong></p> <p>把jquery项目利用express搭建的node服务器来管理，保证资源托管到位，部分接口实现</p> <h2 id="身份验证"><a href="#身份验证" class="header-anchor">#</a> 身份验证</h2> <p>HTTP 是一种没有状态的协议，也就是它并不知道是谁访问。客户端用户名密码通过了身份验证，不过下回这个客户端再发送请求时候，还得再验证</p> <h3 id="session"><a href="#session" class="header-anchor">#</a> session</h3> <h4 id="思想"><a href="#思想" class="header-anchor">#</a> 思想</h4> <p>​        1、客户端用户名跟密码请求登录
​		2、服务端收到请求，去库验证用户名与密码
​		3、验证成功后，服务端种一个cookie或发一个字符到客户端，同时服务器保留一份session
​		4、客户端收到 响应 以后可以把收到的字符存到cookie
​		5、客户端每次向服务端请求资源的cookie会自动携带
​		6、服务端收到请求，然后去验证cookie和session，如果验证成功，就向客户端返回请求的库数据</p> <blockquote><p>Session存储位置: 服务器内存，磁盘，或者数据库里</p> <p>Session存储内容: id,存储时间，用户名等说明一下登录的用户是谁</p> <p>客户端携带 ： cookie自动带，localStorage手动带</p></blockquote> <h4 id="如何保存信息给浏览器"><a href="#如何保存信息给浏览器" class="header-anchor">#</a> 如何保存信息给浏览器</h4> <p><strong>前端种：</strong></p> <p>cookie/localstorage</p> <p><strong>后端种:</strong></p> <p>服务器给浏览器种cookie:  	cookie-parser</p> <p>服务器给浏览器种cookie的同时在服务器上生成seesion:  cookie-session</p> <h4 id="cookie-session"><a href="#cookie-session" class="header-anchor">#</a> cookie-session</h4> <p><strong>安装引入</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> cookieSession <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cookie-session'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>配置中间件</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieSession</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	name<span class="token punctuation">:</span><span class="token string">'保存到服务器的session的名字'</span><span class="token punctuation">,</span>
  keys<span class="token punctuation">:</span><span class="token punctuation">[</span>必传参数，代表加密层级<span class="token punctuation">]</span><span class="token punctuation">,</span>
  maxAge<span class="token punctuation">:</span><span class="token number">1000</span> <span class="token comment">//保留cookie的时间</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>种cookie,备份session</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>key<span class="token operator">=</span>value
</code></pre></div><p><strong>读cookie对比session</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>key  返回<span class="token boolean">true</span>
</code></pre></div><p><strong>删除cookie、session</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">delete</span> req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>key 
req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>key <span class="token operator">=</span> <span class="token keyword">undefined</span>
</code></pre></div><h3 id="token"><a href="#token" class="header-anchor">#</a> token</h3> <h4 id="思想-2"><a href="#思想-2" class="header-anchor">#</a> 思想</h4> <p>在服务端不需要存储用户的登录记录，全部发给客户端有客户端自己存(cookie,local)</p> <p>​        1、客户端使用用户名跟密码请求登录
​		2、服务端收到请求，去验证用户名与密码
​		3、验证成功后，服务端会签发一个 Token（加了密的字符串），再把这个 Token 发送给客户端
​		4、客户端收到 Token 以后可以把它存储起来，比如放在 Cookie 里或者 Local Storage 里
​		5、客户端每次向服务端请求资源的时候需要带着服务端签发的 Token
​		6、服务端收到请求，然后去验证客户端请求里面带着的 Token，如果验证成功，就向客户端返回请求的数据</p> <h4 id="实现-2"><a href="#实现-2" class="header-anchor">#</a> 实现</h4> <p><strong>jsonwebtoken</strong>的安装引入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> jwt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jsonwebtoken'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>生成签名</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> token <span class="token operator">=</span> jwt<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> secretOrPrivateKey<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>[^payload]: json 还有username,userid
[^secretOrPrivateKey]: 加密规则，字符串，或者私钥path模块
[^options]: 可选配置项
[^callback]: 成功回调, 可选 返回制作后的token,也可同步返回</p> <p><strong>校验token</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>jwt<span class="token punctuation">.</span><span class="token function">verify</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> secretOrPublicKey<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>[^callback：]: 回调 err 错误信息 decode 成功后的信息</p> <p>[^options]: expiresIn 过期时间</p> <p><strong>token删除</strong></p> <p>有客户端，负责删除</p> <h3 id="session-vs-token"><a href="#session-vs-token" class="header-anchor">#</a> session vs token</h3> <table><thead><tr><th></th> <th>session</th> <th>token</th></tr></thead> <tbody><tr><td>服务端保存用户信息</td> <td>√</td> <td>×</td></tr> <tr><td>避免CSRF攻击</td> <td>×</td> <td>√</td></tr> <tr><td>安全性</td> <td>一般</td> <td>高</td></tr> <tr><td>多服务器粘性问题</td> <td>存在</td> <td>不存在</td></tr></tbody></table> <blockquote><p>多服务器粘性问题</p> <p>当在应用中进行 session的读，写或者删除操作时，会有一个文件操作发生在操作系统的temp 文件夹下，至少在第一次时。假设有多台服务器并且 session 在第一台服务上创建。当你再次发送请求并且这个请求落在另一台服务器上，session 信息并不存在并且会获得一个“未认证”的响应。我知道，你可以通过一个粘性 session 解决这个问题。然而，在基于 token 的认证中，这个问题很自然就被解决了。没有粘性 session 的问题，因为在每个发送到服务器的请求中这个请求的 token 都会被拦截</p></blockquote> <h2 id="文件上传"><a href="#文件上传" class="header-anchor">#</a> 文件上传</h2> <p><strong>思想</strong></p> <p>前端表单-&gt;后端接收到文件本身-&gt;保存到服务器上-&gt;给数据库记录文件一些信息-&gt;库返回给nodejs相关信息-&gt;nodejs返回给前端</p> <blockquote><p>前端: &lt;input type=file enctype=&quot;multipart/form-data&quot; name=&quot;fieldname&quot;</p></blockquote> <p><strong>实现</strong></p> <p>multer-&gt;文件名会随机-&gt;fs模块改名-&gt;path系统模块解析磁盘路径</p> <blockquote><p>后端：multer 接受 form-data编码数据</p></blockquote> <h3 id="path系统模块"><a href="#path系统模块" class="header-anchor">#</a> path系统模块</h3> <p>操作系统磁盘路径</p> <p><strong>编码</strong></p> <p>windows： <code>c:\\user\\admin\\a.jpg</code></p> <p>mac:	 <code>~/desktop/1901</code></p> <p><strong>UI呈现</strong>（控制台的打印）</p> <p>windows: 	<code>c:\user\admin</code>
mac: 	<code>~/desktop/1901</code></p> <p><strong>API</strong></p> <p>磁盘路径解析 <strong>parse</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'c:\\wamp\\xx.png'</span><span class="token punctuation">)</span> <span class="token comment">// string -&gt; object</span>

<span class="token comment">//返回</span>
<span class="token punctuation">{</span>
   root<span class="token punctuation">:</span> <span class="token string">'c:\\'</span><span class="token punctuation">,</span> 盘符
   dir<span class="token punctuation">:</span> <span class="token string">'c:\\wamp'</span><span class="token punctuation">,</span> 目录
   base<span class="token punctuation">:</span> <span class="token string">'xx.png'</span><span class="token punctuation">,</span>  文件名
   ext<span class="token punctuation">:</span> <span class="token string">'.png'</span><span class="token punctuation">,</span> 扩展名
   name<span class="token punctuation">:</span> <span class="token string">'xx'</span> 	文件，不含扩展名    
<span class="token punctuation">}</span>
</code></pre></div><p>片段合并<strong>join</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'磁盘路径1'</span><span class="token punctuation">,</span><span class="token string">'磁盘路径2'</span>，<span class="token string">'磁盘路径n'</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>__dirname 魔术变量  返回当前文件所在的磁盘路径</p></blockquote> <p>片段合并 <strong>resolve</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'磁盘路径1'</span><span class="token punctuation">,</span><span class="token string">'磁盘路径n'</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>合并磁盘片段,右到左找根，左到右拼接，没有找到根，以当前文件路径为根</p></blockquote> <h3 id="multer中间件"><a href="#multer中间件" class="header-anchor">#</a> multer中间件</h3> <p>multer 接受 form-data编码数据,所有要求前端携带时注意一下，如：<code>&lt;input type=file enctype=&quot;multipart/form-data&quot; name=&quot;fieldname&quot;&gt;</code>,</p> <p><strong>使用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1 引入</span>
<span class="token keyword">let</span> multer  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'multer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2 实例化  </span>
<span class="token keyword">let</span> objMulter <span class="token operator">=</span> <span class="token function">multer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dest<span class="token punctuation">:</span> <span class="token string">'./upload'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//dest: 指定 保存位置（存到服务器)</span>
<span class="token comment">//安装中间件， </span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>objMulter<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//允许上传什么类型文件,any 代表任何类型 </span>
</code></pre></div><p>中间件扩展了req请求体 <code>req.files</code></p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/reg'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  req<span class="token punctuation">.</span>files
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>​        fieldname: 表单name名
​		originalname: 上传的文件名
​		encoding： 编码方式
​		mimetype: 文件类型
​		buffer: 文件本身
​		size：尺寸
​		destination: 保存路径
​		filename： 保存后的文件名  不含后缀
​		path：	保存磁盘路径+保存后的文件名 不含后缀</p></blockquote> <h2 id="后端渲染"><a href="#后端渲染" class="header-anchor">#</a> 后端渲染</h2> <p>通常根据后端返回的json数据，然后来生成html被称为前端渲染，而后端渲染是后端把json与html结合渲染好后返回到浏览器，没前端什么事了</p> <h3 id="模板引擎"><a href="#模板引擎" class="header-anchor">#</a> 模板引擎</h3> <p>无论前后谁来渲染页面，都会用到模板引擎，前端渲染页面实际上是<strong>操作dom</strong>，后端渲染页面是<strong>把数据和html字符拼接</strong>后丢给浏览器</p> <table><thead><tr><th>引擎</th> <th>前端</th> <th>后端</th></tr></thead> <tbody><tr><td>angularJs</td> <td>√</td> <td>×</td></tr> <tr><td>vue/mustach</td> <td>√</td> <td>√</td></tr> <tr><td>react</td> <td>√</td> <td>√</td></tr> <tr><td>angularTs/mustach</td> <td>√</td> <td>√</td></tr> <tr><td>jade/pug</td> <td>×</td> <td>√</td></tr> <tr><td>ejs</td> <td>×</td> <td>√</td></tr> <tr><td>jquery + art-template</td> <td>√</td> <td>×</td></tr> <tr><td>handlerbars</td> <td>√</td> <td>×</td></tr></tbody></table> <h3 id="jade"><a href="#jade" class="header-anchor">#</a> jade</h3> <p><strong>原理</strong>：fs抓取前端静态页面 + jade + 数据  	-&gt;	返回send(data)	 -&gt; 	浏览器</p> <p><strong>特点</strong>：侵入式，强依赖</p> <p><strong>使用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> jade <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jade'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> html <span class="token operator">=</span> jade<span class="token punctuation">.</span><span class="token function">renderFile</span><span class="token punctuation">(</span><span class="token string">'jade模板文件'</span>，<span class="token punctuation">{</span>pretty<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>key<span class="token punctuation">:</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//返回字符</span>
</code></pre></div><p><strong>jade模板文件语法</strong></p> <p>父子要缩进
属性：  标签(key=value,key2=value)
内容:	标签 内容</p> <p><a href="http://www.nooong.com/docs/jade_chinese.htm" target="_blank" rel="noopener noreferrer">其他扩展<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="ejs"><a href="#ejs" class="header-anchor">#</a> ejs</h3> <p><strong>原理</strong>：fs抓取前端静态页面 + ejs + 数据  	-&gt;	返回send(data)	 -&gt; 	浏览器</p> <p><strong>特点</strong>：非侵入式，温和，弱依赖</p> <p><strong>使用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span>
ejs<span class="token punctuation">.</span><span class="token function">renderFile</span><span class="token punctuation">(</span><span class="token string">'ejs模板文件'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>要合并到html数据<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">回调</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>err：错误，null代表没有错误</p> <p>data:	渲染后的字符|流</p> <p>ejs模板 ：	后缀名为ejs的html文件</p></blockquote> <p><strong>ejs模板文件语法</strong></p> <ul><li>ejs 结构就是html</li> <li>输出:	&lt;%= 数据名|属性名|变量名 + 表达式 %&gt;</li> <li>语句：	&lt;% 语句 %&gt;  需要被&lt;%  %&gt;  包裹</li> <li>非转义输出:	&lt;%- 数据名|变量名  + 表达式 %&gt;</li> <li>载入公共：&lt;%- include('./hd.ejs',{数据}) %&gt;</li></ul> <p><a href="https://www.npmjs.com/package/ejs" target="_blank" rel="noopener noreferrer">其他扩展<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h2> <p>告诉你去哪，对于前端，主要是导向告诉浏览器应该去哪，对于后端，可以理解为一个子服务，一个路由就是一个小的服务(server/app)，处理一个接口</p> <p><strong>配置和使用</strong></p> <p>/routes/xx.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 创建路由</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//2 路由处理响应</span>
router<span class="token punctuation">.</span>响应<span class="token constant">API</span><span class="token punctuation">(</span>地址<span class="token punctuation">,</span> 处理函数<span class="token punctuation">)</span>

<span class="token comment">//3. 导出路由</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre></div><p>/app.js主服务</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//安装路由</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'地址'</span><span class="token punctuation">,</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>/routes/xx.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//子路由里安装路由 嵌套</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'地址'</span><span class="token punctuation">,</span>子router<span class="token punctuation">)</span> <span class="token comment">//需要next 延续</span>

<span class="token comment">//截获当前路由下的部分公共业务</span>
router<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span>当前router路由下的验证工作<span class="token punctuation">)</span> <span class="token comment">//需要next 延续</span>
</code></pre></div><blockquote><p>主路由的地址对应子路由的根</p> <p>如：app.js :<code>/api/a~~ a.js:</code>/`</p> <p>app.use(&quot;/api/a&quot;,require(&quot;./routes/a.js&quot;))</p> <p>在a.js文件里面的/就是对应的app.js里面的/api/a的地址</p></blockquote> <p><strong>作业</strong></p> <p>实现jquery项目当中，自动登录，注册时头像的上传，接口逻辑利用路由实现</p> <h2 id="数据库"><a href="#数据库" class="header-anchor">#</a> 数据库</h2> <h3 id="mysql"><a href="#mysql" class="header-anchor">#</a> mysql</h3> <p>关系数据库，二维表，不存在子表</p> <p><strong>sql语句</strong></p> <p><strong>建库</strong></p> <div class="language-mysql extra-class"><pre class="language-text"><code>CREATE DATABASE  `2017-12-6` DEFAULT CHARACTER SET utf8 -- UTF-8 Unicode COLLATE utf8_general_ci;
</code></pre></div><p><strong>建表</strong></p> <div class="language-mysql extra-class"><pre class="language-text"><code>CREATE TABLE `user` (
					`name` VARCHAR( 32 ) NOT NULL ,
					`age` INT( 3 ) NOT NULL ,
					`address` VARCHAR( 128 ) NOT NULL
					) ENGINE = INNODB
</code></pre></div><p><strong>增</strong></p> <div class="language-mysql extra-class"><pre class="language-text"><code>INSERT INTO 表 (字段列表) VALUES(值列表)
INSERT INTO user (name,age,address) VALUES('苏菲',38,'中国香港')
</code></pre></div><p><strong>删</strong></p> <div class="language-mysql extra-class"><pre class="language-text"><code>DELETE FROM 表 WHERE 字段名=值
DELETE FROM user WHERE name='sufei'
</code></pre></div><p><strong>改</strong></p> <div class="language-mysql extra-class"><pre class="language-text"><code>UPDATE 表 SET 字段名=值 WHERE 字段名=值
UPDATE user set name='sufei' WHERE name='苏菲'
</code></pre></div><p><strong>查</strong></p> <div class="language-mysql extra-class"><pre class="language-text"><code>SELECT ? FROM 表
SELECT * FROM user  查所有
</code></pre></div><h3 id="node-mysql客户端"><a href="#node-mysql客户端" class="header-anchor">#</a> node + mysql客户端</h3> <p>安装+引入</p> <div class="language-js extra-class"><pre class="language-js"><code>npm install mysql <span class="token operator">-</span><span class="token constant">S</span>
<span class="token keyword">var</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>创建库链接</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  host     <span class="token punctuation">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
  user     <span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  password <span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
  database <span class="token punctuation">:</span> <span class="token string">'user'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
connection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>库操作</p> <div class="language-js extra-class"><pre class="language-js"><code>connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'sql语句'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The solution is: '</span><span class="token punctuation">,</span> results<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>results在增加、修改、删除的时候返回的是一个对象，而在查询的时候返回的是一个数组！</code></p> <p>关闭库</p> <div class="language-js extra-class"><pre class="language-js"><code>connection<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="mongodb"><a href="#mongodb" class="header-anchor">#</a> mongodb</h3> <p>非关系型数据库，又叫nosql，缓存型，使用场景多是解决大规模数据集合多重数据种类</p> <ol><li><p><a href="https://www.mongodb.com/download-center" target="_blank" rel="noopener noreferrer">下载<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.cnblogs.com/keyi/p/10984514.html" target="_blank" rel="noopener noreferrer">安装帮助<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>配置数据文件存储位置：</p></li></ol> <p>找到安装目录 D:\web-software\mongo\data\db</p> <blockquote><p>data和db目录要手动创建</p></blockquote> <ol start="3"><li>服务端启动:</li></ol> <p>找到安装目录&gt; mongod --dbpath 路径  回车</p> <ol start="4"><li>客户端启动:</li></ol> <p>找到安装目录&gt; mongo 回车</p> <ol start="5"><li>环境变量</li></ol> <p>为了在任意盘符下去都可以启动  mongod服务端|mongo客户端，把安装目录添加到环境变量</p> <p><strong>mysql vs mongodb</strong></p> <table><thead><tr><th>mysql</th> <th>mongoDb</th> <th></th></tr></thead> <tbody><tr><td>database(库)</td> <td>database(库)</td> <td></td></tr> <tr><td>table(表)</td> <td>collection(集合)</td> <td></td></tr> <tr><td>row(一条数据)</td> <td>document(文档)</td> <td></td></tr> <tr><td>column(字段)</td> <td>field(区域)</td> <td></td></tr> <tr><td>二维表，每次存到磁盘</td> <td>json，存在缓存，关闭时存到磁盘</td> <td><strong>存储方式</strong></td></tr></tbody></table> <p>mongodb数据库的相关命令：</p> <p>​	常看所有的数据库 ： show dbs</p> <p>​	切换/创建数据库：use student</p> <p>​    删除数据库： db.dropDatabase()</p> <p>​    创建集合：db.createCollection('表名',{配置})   ===&gt; db.bbb.isCapped()</p> <p>​    查看集合：db.getCollectionNames()  /  show collections</p> <p>​	插入数据：db.user.insert({})</p> <p>​    更新数据：db.user.update({条件},{$set:{age:25}},false,true)</p> <p>​    查询数据：db.user.find({})</p> <p>​					    db.user.find({},{age:1,_id:0})</p> <p>​						db.user.find({}).skip(3).limit(3)</p> <p>​	排序：         db.user.find().sort({age:1})</p> <p>mongodb<strong>命令行操作</strong>	 声明式 | obj.api()</p> <p><strong>库操作</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>查<span class="token punctuation">:</span> show dbs
  	db 查看当前库
建<span class="token punctuation">:</span>	use 库名	   没有建，有就切换
删<span class="token punctuation">:</span> db<span class="token punctuation">.</span><span class="token function">dropDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  删除当前库
</code></pre></div><p><strong>集合(表)操作</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>建：db<span class="token punctuation">.</span><span class="token function">createCollection</span><span class="token punctuation">(</span><span class="token string">'表名'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>配置<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//配置：{size:文件大小,capped:true,max:条数|文档数} capped定量</span>
  <span class="token comment">//db.表(集合).isCapped() 返回 true/false 是否是定量</span>
查：show collections <span class="token operator">/</span> db<span class="token punctuation">.</span><span class="token function">getCollectionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
删：db<span class="token punctuation">.</span>表<span class="token operator">|</span>集合<span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>文档(row)操作</strong></p> <p><strong>增</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//添加一条</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">//添加一条</span>
db<span class="token punctuation">.</span><span class="token function">insertOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//添加一条</span>

db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//多条</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//多条</span>
<span class="token comment">//insert  相同ID字段不会进行插入更改	save会</span>
</code></pre></div><p><strong>删</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>要删数据条件描述<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//一条</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">//一条</span>

db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>要删数据条件描述<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//多条</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//清空表</span>
</code></pre></div><p><strong>改</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">udpate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>查询条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>替换条件<span class="token punctuation">}</span><span class="token punctuation">,</span>插入boolean<span class="token punctuation">,</span>全替换boolean<span class="token punctuation">)</span>
<span class="token comment">//将所有的用户名为李四的年龄全都设置为20岁</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>username<span class="token punctuation">:</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>$<span class="token keyword">set</span><span class="token punctuation">:</span><span class="token punctuation">{</span>age<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>

第三个参数：如果更新的数据没有的话则插入，默认不插入
第四个参数：默认只更新一条数据，如果要批量更新设置<span class="token boolean">true</span>
</code></pre></div><p>查询条件</p> <blockquote><p>​        {age:22}		         age == 22</p> <p>​		{age:{   $gt:22 }}	age &gt; 22</p> <p>​	    {age:{  $lt:22}}      age &lt; 22</p> <p>​		{age:{$gte: 22}}	age&gt;=22</p> <p>​		{age:{$lte:22}}	  age&lt;=22</p> <p>​		{age:{ $lte:122,$gte:22}}	age&lt;=122 &amp;&amp; age&gt;=22</p> <p>​		{$or:[{age:22},{age:122}]}	22 or 122</p> <p>​		{key:value,key2:value2}  value &amp;&amp; value2</p> <p>​		{name:/正则/}</p> <p>替换条件</p> <p>{$set:{数据}}</p> <p>{inc:{age:5}}    //在原来的基础上年龄递增5</p></blockquote> <p><strong>查</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>所有：db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>条件<span class="token punctuation">)</span>
条数<span class="token punctuation">:</span> db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
去重：db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span>length

db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>指定要显示列区域<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>指定要显示列区域</p> <p>username:1 显示这个区域</p> <p>username:0 不显示这个区域</p> <p>_id 是默认显示</p></blockquote> <p><strong>排</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>key2<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//升</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">//降</span>
</code></pre></div><p><strong>限定</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>  <span class="token comment">//限定</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>	<span class="token comment">//跳过</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//找第一个</span>
db<span class="token punctuation">.</span>集合<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">//查询第一条</span>
</code></pre></div><h3 id="node-mongodb客户端"><a href="#node-mongodb客户端" class="header-anchor">#</a> node + mongodb客户端</h3> <p>安装+引入</p> <div class="language-js extra-class"><pre class="language-js"><code>npm install mongodb <span class="token operator">-</span><span class="token constant">S</span>
<span class="token keyword">var</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongodb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>实例化并连接</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> mongoCt <span class="token operator">=</span> mongodb<span class="token punctuation">.</span>MongoClient<span class="token punctuation">;</span>
mongoCt<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'协议://地址:端口'</span><span class="token punctuation">,</span><span class="token function">回调</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>client<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//err 错误 client链接后的客户端</span>
</code></pre></div><p>链接库和集合</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> db <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">db</span><span class="token punctuation">(</span><span class="token string">'库名'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">'集合名'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>集合操作</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//user.API()  集合操作 	返回 对象</span>

<span class="token comment">//增</span>
	<span class="token function">insertOne</span><span class="token punctuation">(</span>对象数据<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">//res = 对象  </span>
	<span class="token function">insertMany</span><span class="token punctuation">(</span>arr数据<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//res = 对象  </span>
    <span class="token comment">//res.result.n 结果  ok 状态</span>
    <span class="token comment">//res.ops内容  数组</span>
    <span class="token comment">//result.insertedId 插入后的id</span>

<span class="token comment">//删:</span>
  <span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//改:</span>
  <span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>更新后<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">updateMany</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>更新后<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">updateMany</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>更新后<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>配置<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//配置: upsert:true 插入	projection:true 全局替换</span>
<span class="token comment">//查:</span>
  user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>skip<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>limit<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>projection<span class="token punctuation">:</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>result<span class="token operator">=</span>对象<span class="token punctuation">}</span><span class="token punctuation">)</span>
  user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>条件<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>projection<span class="token punctuation">:</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>reulst<span class="token operator">==</span>arr<span class="token punctuation">}</span><span class="token punctuation">)</span>
  user<span class="token punctuation">.</span><span class="token function">countDocuments</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>num</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>num返回数量<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//排</span>
  user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toArray<span class="token punctuation">.</span><span class="token punctuation">.</span>
  user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>projection<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>sort<span class="token punctuation">:</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toArray<span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>关闭库</p> <div class="language-js extra-class"><pre class="language-js"><code>client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="node-mongoose"><a href="#node-mongoose" class="header-anchor">#</a> node  +  mongoose</h3> <p>一款mongodb客户端 <a href="https://mongoosejs.com/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://www.mongoosejs.net/" target="_blank" rel="noopener noreferrer">中文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="可视化客户端"><a href="#可视化客户端" class="header-anchor">#</a> 可视化客户端</h3> <blockquote><ul><li><a href="https://robomongo.org/" target="_blank" rel="noopener noreferrer">Robo 3T<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://studio3t.com/download-thank-you/?OS=win64" target="_blank" rel="noopener noreferrer">Studio3t<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <h2 id="express生成器"><a href="#express生成器" class="header-anchor">#</a> Express生成器</h2> <p>应用程序生成器、脚手架 、命令行工具、自动搭建项目环境的，无需手动</p> <p><strong>安装</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>npm install express<span class="token operator">-</span>generator <span class="token operator">-</span>g   
</code></pre></div><p><strong>验证</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>express <span class="token operator">-</span>h
</code></pre></div><p><strong>生成环境</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>express <span class="token operator">-</span>e 目录 <span class="token operator">|</span> <span class="token punctuation">.</span> 
	<span class="token comment">// . 当前目录创建 </span>
	<span class="token comment">//-e 需要ejs模板引擎</span>
	<span class="token comment">//express -f  强制在非空目录下创建</span>
cd 目录
npm install 		<span class="token comment">//安装依赖包</span>
npm start    
node <span class="token punctuation">.</span><span class="token operator">/</span>bin<span class="token operator">/</span>www
</code></pre></div><p><a href="http://www.expressjs.com.cn/starter/generator.html" target="_blank" rel="noopener noreferrer">扩展<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/2/2021, 10:31:46 AM</span></div></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><div class="vssue vssue-wrapper"><svg style="display:none;"><symbol id="vssue-icon-bitbucket" viewBox="0 0 1024 1024"><path d="M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z"></path></symbol> <symbol id="vssue-icon-gitea" viewBox="0 0 1024 1024"><path d="M184.31868985 236.10860742C106.94832667 235.94086648 3.32655508 285.13080468 9.02973665 408.46209936c8.93218827 192.65010787 206.32096845 210.5144844 285.20099725 212.06608453 8.63864186 36.14810496 101.48307766 160.77938883 170.21479898 167.32127321h301.09442177c180.57278288-11.99345499 315.77172611-546.07960359 215.54670217-548.09249109-165.7696721 7.79993906-264.02374305 11.74184405-348.27147151 12.41280591v166.69224585l-26.25140843-11.61603761-0.16773997-154.99233728c-96.70246985-0.04193548-181.83083757-4.52899687-343.4069947-12.49667687-20.21274496-0.12580547-48.39316992-3.5644886-78.67035236-3.64835859z m10.94507577 68.14462849h9.22573371c10.98701124 98.75729283 28.85138778 156.50200291 64.99949274 244.73357185-92.25734394-10.90314029-170.75995634-37.69970509-185.18564974-137.75698809-7.46445813-51.78991757 17.69663558-105.84433456 110.96042329-107.01851827z m358.83913087 97.07988723c6.29027343 0.08386999 12.70635233 1.25805468 18.74501482 4.02577499l31.40943263 13.54505513-22.51917887 41.05451824a28.18042496 25.03528825 0 0 0-10.10637297 1.59353561 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 4.69673781 7.29671718l-38.83195528 70.70267333a28.18042496 25.03528825 0 0 0-9.30960467 1.59353659 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 36.06423497 15.09665623 28.18042496 25.03528825 0 0 0 16.94180276-32.08039449 28.18042496 25.03528825 0 0 0-6.62575434-9.22573468l37.82551056-68.85752581a28.18042496 25.03528825 0 0 0 12.28700044-1.25805469 28.18042496 25.03528825 0 0 0 8.93218826-4.69673783c14.59343435 6.12253248 26.54495386 11.11281671 35.14166122 15.34826717 12.91602778 6.37414341 17.48696012 10.60959485 18.87082027 15.30633169 1.38386015 4.61286685-0.12580547 13.50312062-7.42252263 29.10299872-5.45157063 11.61603859-14.46762889 28.09655497-25.11915823 47.51253164a28.18042496 25.03528825 0 0 0-10.52572486 1.59353659 28.18042496 25.03528825 0 0 0-16.98373826 32.038459 28.18042496 25.03528825 0 0 0 36.06423498 15.09665623 28.18042496 25.03528825 0 0 0 16.94180278-32.03845901 28.18042496 25.03528825 0 0 0-5.74511608-8.47090188c10.52572388-19.20630122 19.58371762-35.72875308 25.41270465-48.14155897 7.88380904-16.85793279 11.99345499-29.39654416 8.38703091-41.51580463-3.60642311-12.11926046-14.67730434-20.0030695-29.35460966-27.25785217-9.6450856-4.73867233-21.68047607-9.77089106-36.06423399-15.80955357a28.18042496 25.03528825 0 0 0-1.59353562-10.022502 28.18042496 25.03528825 0 0 0-6.08059796-8.7644483l22.14176246-40.38355541 122.61839638 52.96410227c22.14176247 9.6031511 31.2836262 33.12877372 20.54822685 52.8382968l-84.28966393 154.32137544c-10.77733482 19.66758857-37.23841869 27.80300855-59.38018118 18.24179293l-173.48574115-74.98005927c-22.14176247-9.5612156-31.32556167-33.12877372-20.54822687-52.83829679l84.28966395-154.27943995c7.38058716-13.54505513 22.22563246-21.59660511 37.951317-22.22563246h2.68384935z"></path></symbol> <symbol id="vssue-icon-gitee" viewBox="0 0 1024 1024"><path d="M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z"></path></symbol> <symbol id="vssue-icon-github" viewBox="0 0 1024 1024"><path d="M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z"></path></symbol> <symbol id="vssue-icon-gitlab" viewBox="0 0 1024 1024"><path d="M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z"></path></symbol> <symbol id="vssue-icon-loading" viewBox="0 0 1024 1024"><path d="M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z"></path></symbol> <symbol id="vssue-icon-like" viewBox="0 0 1024 1024"><path d="M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"></path></symbol> <symbol id="vssue-icon-unlike" viewBox="0 0 1024 1024"><path d="M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"></path></symbol> <symbol id="vssue-icon-heart" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"></path></symbol> <symbol id="vssue-icon-edit" viewBox="0 0 1024 1024"><path d="M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z"></path> <path d="M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z"></path></symbol> <symbol id="vssue-icon-delete" viewBox="0 0 1024 1024"><path d="M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z"></path></symbol> <symbol id="vssue-icon-reply" viewBox="0 0 1024 1024"><path d="M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z"></path></symbol> <symbol id="vssue-icon-error" viewBox="0 0 1024 1024"><path d="M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"></path> <path d="M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"></path> <path d="M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"></path></symbol></svg> <div class="vssue-header"><a target="_blank" class="vssue-header-comments-count"><span>
      Comments
    </span></a> <span class="vssue-header-powered-by"><span>Powered by</span> <!----> <a href="https://github.com/meteorlxy/vssue" target="_blank" title="Vssue v1.4.2">
      Vssue
    </a></span></div> <div class="vssue-status"><svg aria-hidden="true" class="vssue-icon vssue-icon-loading"><title></title><use xlink:href="#vssue-icon-loading"></use></svg> <p class="vssue-status-info"><span>
        Initializing...
      </span></p></div></div></div></div></div></div></div></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.85014b79.js" defer></script><script src="/assets/js/3.766598cb.js" defer></script><script src="/assets/js/1.427dc4bf.js" defer></script><script src="/assets/js/23.f7f5efab.js" defer></script>
  </body>
</html>
